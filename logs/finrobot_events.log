
2025-07-11 15:48:13,267 | INFO | Overrode default_provider → openai
2025-07-11 15:48:14,916 | INFO | Loaded pricing for 90 Together models
2025-07-11 15:48:14,916 | INFO | {"timestamp": "2025-07-11T11:48:14.916733", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,917 | INFO | {"timestamp": "2025-07-11T11:48:14.917048", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,918 | INFO | {"timestamp": "2025-07-11T11:48:14.917992", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-search-preview-2025-03-11", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,918 | INFO | {"timestamp": "2025-07-11T11:48:14.918460", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,918 | INFO | {"timestamp": "2025-07-11T11:48:14.918752", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,919 | INFO | {"timestamp": "2025-07-11T11:48:14.919034", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,919 | INFO | {"timestamp": "2025-07-11T11:48:14.919572", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,919 | INFO | {"timestamp": "2025-07-11T11:48:14.919841", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,920 | INFO | {"timestamp": "2025-07-11T11:48:14.920123", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,920 | INFO | {"timestamp": "2025-07-11T11:48:14.920401", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,920 | INFO | {"timestamp": "2025-07-11T11:48:14.920682", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,920 | INFO | {"timestamp": "2025-07-11T11:48:14.920967", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,921 | INFO | {"timestamp": "2025-07-11T11:48:14.921232", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,921 | INFO | {"timestamp": "2025-07-11T11:48:14.921514", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 15:48:14,921 | INFO | Injected API key: FMP_API_KEY
2025-07-11 15:48:14,922 | INFO | {"timestamp": "2025-07-11T11:48:14.922056", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 15:48:14,922 | INFO | Injected API key: SEC_API_KEY
2025-07-11 15:48:14,922 | INFO | {"timestamp": "2025-07-11T11:48:14.922511", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 15:48:14,922 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 15:48:14,923 | INFO | {"timestamp": "2025-07-11T11:48:14.923047", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 15:48:14,923 | INFO | Injected OPENAI_API_KEY
2025-07-11 15:48:14,923 | INFO | {"timestamp": "2025-07-11T11:48:14.923602", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 15:48:14,923 | INFO | Injected OPENAI_BASE_URL
2025-07-11 15:48:14,924 | INFO | {"timestamp": "2025-07-11T11:48:14.924204", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 15:48:14,924 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 15:48:14,924 | INFO | {"timestamp": "2025-07-11T11:48:14.924728", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 15:48:14,925 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 15:48:14,925 | INFO | {"timestamp": "2025-07-11T11:48:14.925240", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 15:48:14,925 | INFO | Injected QWEN_API_KEY
2025-07-11 15:48:14,925 | INFO | {"timestamp": "2025-07-11T11:48:14.925754", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 15:48:14,926 | INFO | Injected QWEN_BASE_URL
2025-07-11 15:48:14,926 | INFO | {"timestamp": "2025-07-11T11:48:14.926243", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 15:48:14,926 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-search-preview-2025-03-11'
2025-07-11 15:48:14,926 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:14,927 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:14,927 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:14,927 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:14,927 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:14,927 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:14,928 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:14,928 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:14,928 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:14,928 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:14,929 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:14,929 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 15:48:14,929 | INFO | {"timestamp": "2025-07-11T11:48:14.929439", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 15:48:15,626 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 15:48:15,627 | INFO | {"timestamp": "2025-07-11T11:48:15.627152", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 15:48:15,627 | INFO | {"timestamp": "2025-07-11T11:48:15.627459", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 15:48:15,627 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-search-preview-2025-03-11'
2025-07-11 15:48:15,627 | INFO | {"timestamp": "2025-07-11T11:48:15.627956", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-search-preview-2025-03-11"}}
2025-07-11 15:48:15,628 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:15,628 | INFO | {"timestamp": "2025-07-11T11:48:15.628536", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:48:15,628 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:15,629 | INFO | {"timestamp": "2025-07-11T11:48:15.629071", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:48:15,629 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:15,629 | INFO | {"timestamp": "2025-07-11T11:48:15.629565", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:48:15,629 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:15,630 | INFO | {"timestamp": "2025-07-11T11:48:15.630044", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:48:15,630 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:15,630 | INFO | {"timestamp": "2025-07-11T11:48:15.630587", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:48:15,630 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:48:15,631 | INFO | {"timestamp": "2025-07-11T11:48:15.631124", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:48:15,631 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:15,631 | INFO | {"timestamp": "2025-07-11T11:48:15.631928", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:48:15,632 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:15,632 | INFO | {"timestamp": "2025-07-11T11:48:15.632503", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:48:15,632 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:15,633 | INFO | {"timestamp": "2025-07-11T11:48:15.633023", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:48:15,633 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:15,633 | INFO | {"timestamp": "2025-07-11T11:48:15.633650", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:48:15,634 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:48:15,634 | INFO | {"timestamp": "2025-07-11T11:48:15.634269", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:48:15,634 | INFO | {"timestamp": "2025-07-11T11:48:15.634514", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 15:48:15,634 | INFO | All agents instantiated
2025-07-11 15:48:15,635 | INFO | {"timestamp": "2025-07-11T11:48:15.635078", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 15:48:15,635 | INFO | {"timestamp": "2025-07-11T11:48:15.635347", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 15:48:15,638 | INFO | Graph edges configured
2025-07-11 15:48:15,638 | INFO | {"timestamp": "2025-07-11T11:48:15.638745", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 15:48:15,639 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 15:48:15,639 | INFO | {"timestamp": "2025-07-11T11:48:15.639266", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 15:48:16,325 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 15:48:16,326 | INFO | {"timestamp": "2025-07-11T11:48:16.326745", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 15:48:16,327 | INFO | Graph compiled; starting execution
2025-07-11 15:48:16,337 | INFO | {"timestamp": "2025-07-11T11:48:16.337095", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 15:48:16,338 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 15:48:17,718 | INFO | {"timestamp": "2025-07-11T11:48:17.718321", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-********************************************************************************************************************************************************daMA. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}"}}
2025-07-11 15:48:17,722 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T11:48:16.364877+00:00', 'end_time': '2025-07-11T11:48:17.718778+00:00', 'duration': 1.353901, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T11:48:16.364877+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T11:48:16.365464+00:00', 'model_end_time': '2025-07-11T11:48:17.718764+00:00', 'model_duration': 1.3533}], 'pipeline_end_time': '2025-07-11T11:48:17.718778+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-********************************************************************************************************************************************************daMA. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 15:48:17,726 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T11:48:16.364877+00:00', 'end_time': '2025-07-11T11:48:17.718778+00:00', 'duration': 1.353901, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T11:48:17.722855+00:00', 'end_time': '2025-07-11T11:48:17.723085+00:00', 'duration': 0.00023, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T11:48:16.364877+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T11:48:16.365464+00:00', 'model_end_time': '2025-07-11T11:48:17.718764+00:00', 'model_duration': 1.3533}], 'pipeline_end_time': '2025-07-11T11:48:17.723085+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-********************************************************************************************************************************************************daMA. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 15:48:17,728 | INFO | Event: {'Data Collection US': {'error_log': ["Error during LLM data extraction: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-********************************************************************************************************************************************************daMA. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}", "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 15:48:17,735 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 15:48:17,735 | INFO | {"timestamp": "2025-07-11T11:48:17.735819", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'fa620db1-7447-3f41-dfad-b2b3cd2305b1'\n"}}
2025-07-11 15:48:17,739 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 15:48:17,739 | INFO | {"timestamp": "2025-07-11T11:48:17.739405", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'fa620db1-7447-3f41-dfad-b2b3cd2305b1'\n"}}
2025-07-11 15:51:25,961 | INFO | Overrode default_provider → openai
2025-07-11 15:51:27,315 | INFO | Loaded pricing for 90 Together models
2025-07-11 15:51:27,315 | INFO | {"timestamp": "2025-07-11T11:51:27.315728", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,316 | INFO | {"timestamp": "2025-07-11T11:51:27.316041", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,316 | INFO | {"timestamp": "2025-07-11T11:51:27.316343", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-search-preview-2025-03-11", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,316 | INFO | {"timestamp": "2025-07-11T11:51:27.316791", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,317 | INFO | {"timestamp": "2025-07-11T11:51:27.317081", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,317 | INFO | {"timestamp": "2025-07-11T11:51:27.317454", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,318 | INFO | {"timestamp": "2025-07-11T11:51:27.318112", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,318 | INFO | {"timestamp": "2025-07-11T11:51:27.318401", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,318 | INFO | {"timestamp": "2025-07-11T11:51:27.318706", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,319 | INFO | {"timestamp": "2025-07-11T11:51:27.318993", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,319 | INFO | {"timestamp": "2025-07-11T11:51:27.319294", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,319 | INFO | {"timestamp": "2025-07-11T11:51:27.319635", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,319 | INFO | {"timestamp": "2025-07-11T11:51:27.319935", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,320 | INFO | {"timestamp": "2025-07-11T11:51:27.320205", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 15:51:27,320 | INFO | Injected API key: FMP_API_KEY
2025-07-11 15:51:27,320 | INFO | {"timestamp": "2025-07-11T11:51:27.320786", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 15:51:27,321 | INFO | Injected API key: SEC_API_KEY
2025-07-11 15:51:27,321 | INFO | {"timestamp": "2025-07-11T11:51:27.321378", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 15:51:27,321 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 15:51:27,321 | INFO | {"timestamp": "2025-07-11T11:51:27.321948", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 15:51:27,322 | INFO | Injected OPENAI_API_KEY
2025-07-11 15:51:27,322 | INFO | {"timestamp": "2025-07-11T11:51:27.322546", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 15:51:27,322 | INFO | Injected OPENAI_BASE_URL
2025-07-11 15:51:27,323 | INFO | {"timestamp": "2025-07-11T11:51:27.323108", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 15:51:27,323 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 15:51:27,323 | INFO | {"timestamp": "2025-07-11T11:51:27.323664", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 15:51:27,323 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 15:51:27,324 | INFO | {"timestamp": "2025-07-11T11:51:27.324204", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 15:51:27,324 | INFO | Injected QWEN_API_KEY
2025-07-11 15:51:27,324 | INFO | {"timestamp": "2025-07-11T11:51:27.324707", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 15:51:27,324 | INFO | Injected QWEN_BASE_URL
2025-07-11 15:51:27,325 | INFO | {"timestamp": "2025-07-11T11:51:27.325266", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 15:51:27,325 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-search-preview-2025-03-11'
2025-07-11 15:51:27,325 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,326 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,326 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,326 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,326 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,327 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,327 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,327 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,328 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,328 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,328 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,328 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 15:51:27,329 | INFO | {"timestamp": "2025-07-11T11:51:27.329171", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 15:51:27,595 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 15:51:27,595 | INFO | {"timestamp": "2025-07-11T11:51:27.595861", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 15:51:27,596 | INFO | {"timestamp": "2025-07-11T11:51:27.596065", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 15:51:27,596 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-search-preview-2025-03-11'
2025-07-11 15:51:27,596 | INFO | {"timestamp": "2025-07-11T11:51:27.596463", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-search-preview-2025-03-11"}}
2025-07-11 15:51:27,596 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,596 | INFO | {"timestamp": "2025-07-11T11:51:27.596873", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:51:27,597 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,597 | INFO | {"timestamp": "2025-07-11T11:51:27.597266", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:51:27,597 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,597 | INFO | {"timestamp": "2025-07-11T11:51:27.597656", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:51:27,597 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,598 | INFO | {"timestamp": "2025-07-11T11:51:27.598057", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:51:27,598 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,598 | INFO | {"timestamp": "2025-07-11T11:51:27.598468", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:51:27,598 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 15:51:27,598 | INFO | {"timestamp": "2025-07-11T11:51:27.598864", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 15:51:27,599 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,599 | INFO | {"timestamp": "2025-07-11T11:51:27.599429", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:51:27,599 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,599 | INFO | {"timestamp": "2025-07-11T11:51:27.599867", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:51:27,600 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,600 | INFO | {"timestamp": "2025-07-11T11:51:27.600276", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:51:27,600 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,600 | INFO | {"timestamp": "2025-07-11T11:51:27.600635", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:51:27,600 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 15:51:27,601 | INFO | {"timestamp": "2025-07-11T11:51:27.600999", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 15:51:27,601 | INFO | {"timestamp": "2025-07-11T11:51:27.601181", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 15:51:27,601 | INFO | All agents instantiated
2025-07-11 15:51:27,601 | INFO | {"timestamp": "2025-07-11T11:51:27.601520", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 15:51:27,601 | INFO | {"timestamp": "2025-07-11T11:51:27.601697", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 15:51:27,604 | INFO | Graph edges configured
2025-07-11 15:51:27,604 | INFO | {"timestamp": "2025-07-11T11:51:27.604879", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 15:51:27,605 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 15:51:27,605 | INFO | {"timestamp": "2025-07-11T11:51:27.605249", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 15:51:28,185 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 15:51:28,186 | INFO | {"timestamp": "2025-07-11T11:51:28.186182", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 15:51:28,186 | INFO | Graph compiled; starting execution
2025-07-11 15:51:28,189 | INFO | {"timestamp": "2025-07-11T11:51:28.189347", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 15:51:28,189 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 15:51:30,080 | INFO | {"timestamp": "2025-07-11T11:51:30.080588", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"}}
2025-07-11 15:51:30,083 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T11:51:28.197314+00:00', 'end_time': '2025-07-11T11:51:30.080981+00:00', 'duration': 1.883667, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T11:51:28.197314+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T11:51:28.197550+00:00', 'model_end_time': '2025-07-11T11:51:30.080967+00:00', 'model_duration': 1.883417}], 'pipeline_end_time': '2025-07-11T11:51:30.080981+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 15:51:30,086 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T11:51:28.197314+00:00', 'end_time': '2025-07-11T11:51:30.080981+00:00', 'duration': 1.883667, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T11:51:30.083342+00:00', 'end_time': '2025-07-11T11:51:30.083593+00:00', 'duration': 0.000251, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T11:51:28.197314+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T11:51:28.197550+00:00', 'model_end_time': '2025-07-11T11:51:30.080967+00:00', 'model_duration': 1.883417}], 'pipeline_end_time': '2025-07-11T11:51:30.083593+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 15:51:30,087 | INFO | Event: {'Data Collection US': {'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 15:51:30,093 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 15:51:30,094 | INFO | {"timestamp": "2025-07-11T11:51:30.094032", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id '40f695c7-c341-675e-a658-d6dbd84985ca'\n"}}
2025-07-11 15:51:30,097 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 15:51:30,097 | INFO | {"timestamp": "2025-07-11T11:51:30.097344", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id '40f695c7-c341-675e-a658-d6dbd84985ca'\n"}}
2025-07-11 16:02:16,621 | INFO | Overrode default_provider → openai
2025-07-11 16:02:18,140 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:02:18,140 | INFO | {"timestamp": "2025-07-11T12:02:18.140686", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,141 | INFO | {"timestamp": "2025-07-11T12:02:18.141013", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,141 | INFO | {"timestamp": "2025-07-11T12:02:18.141357", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-search-preview-2025-03-11", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,141 | INFO | {"timestamp": "2025-07-11T12:02:18.141829", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,142 | INFO | {"timestamp": "2025-07-11T12:02:18.142120", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,142 | INFO | {"timestamp": "2025-07-11T12:02:18.142415", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,143 | INFO | {"timestamp": "2025-07-11T12:02:18.143045", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,143 | INFO | {"timestamp": "2025-07-11T12:02:18.143338", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,143 | INFO | {"timestamp": "2025-07-11T12:02:18.143661", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,143 | INFO | {"timestamp": "2025-07-11T12:02:18.143951", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,144 | INFO | {"timestamp": "2025-07-11T12:02:18.144219", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,144 | INFO | {"timestamp": "2025-07-11T12:02:18.144515", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,144 | INFO | {"timestamp": "2025-07-11T12:02:18.144707", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,145 | INFO | {"timestamp": "2025-07-11T12:02:18.145017", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:02:18,145 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:02:18,145 | INFO | {"timestamp": "2025-07-11T12:02:18.145540", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:02:18,145 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:02:18,146 | INFO | {"timestamp": "2025-07-11T12:02:18.146064", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:02:18,146 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:02:18,146 | INFO | {"timestamp": "2025-07-11T12:02:18.146635", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:02:18,146 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:02:18,147 | INFO | {"timestamp": "2025-07-11T12:02:18.147154", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:02:18,147 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:02:18,147 | INFO | {"timestamp": "2025-07-11T12:02:18.147634", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:02:18,147 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:02:18,148 | INFO | {"timestamp": "2025-07-11T12:02:18.148197", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:02:18,148 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:02:18,148 | INFO | {"timestamp": "2025-07-11T12:02:18.148779", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:02:18,149 | INFO | Injected QWEN_API_KEY
2025-07-11 16:02:18,149 | INFO | {"timestamp": "2025-07-11T12:02:18.149277", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:02:18,149 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:02:18,149 | INFO | {"timestamp": "2025-07-11T12:02:18.149874", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:05:19,118 | INFO | Overrode default_provider → openai
2025-07-11 16:05:20,530 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:05:20,530 | INFO | {"timestamp": "2025-07-11T12:05:20.530743", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,531 | INFO | {"timestamp": "2025-07-11T12:05:20.531057", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,531 | INFO | {"timestamp": "2025-07-11T12:05:20.531291", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,531 | INFO | {"timestamp": "2025-07-11T12:05:20.531880", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,532 | INFO | {"timestamp": "2025-07-11T12:05:20.532103", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,532 | INFO | {"timestamp": "2025-07-11T12:05:20.532357", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,533 | INFO | {"timestamp": "2025-07-11T12:05:20.533239", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,533 | INFO | {"timestamp": "2025-07-11T12:05:20.533418", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,533 | INFO | {"timestamp": "2025-07-11T12:05:20.533731", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,534 | INFO | {"timestamp": "2025-07-11T12:05:20.533975", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,534 | INFO | {"timestamp": "2025-07-11T12:05:20.534191", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,534 | INFO | {"timestamp": "2025-07-11T12:05:20.534421", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,534 | INFO | {"timestamp": "2025-07-11T12:05:20.534635", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,534 | INFO | {"timestamp": "2025-07-11T12:05:20.534857", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:05:20,535 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:05:20,535 | INFO | {"timestamp": "2025-07-11T12:05:20.535267", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:05:20,535 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:05:20,535 | INFO | {"timestamp": "2025-07-11T12:05:20.535740", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:05:20,535 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:05:20,536 | INFO | {"timestamp": "2025-07-11T12:05:20.536158", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:05:20,536 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:05:20,536 | INFO | {"timestamp": "2025-07-11T12:05:20.536614", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:05:20,536 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:05:20,537 | INFO | {"timestamp": "2025-07-11T12:05:20.537125", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:05:20,537 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:05:20,537 | INFO | {"timestamp": "2025-07-11T12:05:20.537695", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:05:20,537 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:05:20,538 | INFO | {"timestamp": "2025-07-11T12:05:20.538159", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:05:20,538 | INFO | Injected QWEN_API_KEY
2025-07-11 16:05:20,538 | INFO | {"timestamp": "2025-07-11T12:05:20.538583", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:05:20,538 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:05:20,539 | INFO | {"timestamp": "2025-07-11T12:05:20.539019", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:05:20,539 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:05:20,539 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,539 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,540 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,540 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,540 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,540 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,540 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,541 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,541 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,541 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,541 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,542 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:05:20,542 | INFO | {"timestamp": "2025-07-11T12:05:20.542281", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:05:20,817 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:05:20,818 | INFO | {"timestamp": "2025-07-11T12:05:20.818141", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:05:20,818 | INFO | {"timestamp": "2025-07-11T12:05:20.818343", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:05:20,818 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:05:20,818 | INFO | {"timestamp": "2025-07-11T12:05:20.818783", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:05:20,819 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,819 | INFO | {"timestamp": "2025-07-11T12:05:20.819235", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:05:20,819 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,819 | INFO | {"timestamp": "2025-07-11T12:05:20.819636", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:05:20,819 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,820 | INFO | {"timestamp": "2025-07-11T12:05:20.820037", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:05:20,820 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,820 | INFO | {"timestamp": "2025-07-11T12:05:20.820497", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:05:20,820 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,820 | INFO | {"timestamp": "2025-07-11T12:05:20.820833", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:05:20,821 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:05:20,821 | INFO | {"timestamp": "2025-07-11T12:05:20.821244", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:05:20,821 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,821 | INFO | {"timestamp": "2025-07-11T12:05:20.821608", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:05:20,821 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,822 | INFO | {"timestamp": "2025-07-11T12:05:20.822153", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:05:20,822 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,822 | INFO | {"timestamp": "2025-07-11T12:05:20.822515", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:05:20,822 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,823 | INFO | {"timestamp": "2025-07-11T12:05:20.823034", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:05:20,823 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:05:20,823 | INFO | {"timestamp": "2025-07-11T12:05:20.823468", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:05:20,823 | INFO | {"timestamp": "2025-07-11T12:05:20.823642", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:05:20,823 | INFO | All agents instantiated
2025-07-11 16:05:20,824 | INFO | {"timestamp": "2025-07-11T12:05:20.824016", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:05:20,824 | INFO | {"timestamp": "2025-07-11T12:05:20.824208", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:05:20,827 | INFO | Graph edges configured
2025-07-11 16:05:20,827 | INFO | {"timestamp": "2025-07-11T12:05:20.827811", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:05:20,828 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:05:20,828 | INFO | {"timestamp": "2025-07-11T12:05:20.828236", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:05:21,455 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:05:21,455 | INFO | {"timestamp": "2025-07-11T12:05:21.455931", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:05:21,456 | INFO | Graph compiled; starting execution
2025-07-11 16:05:21,458 | INFO | {"timestamp": "2025-07-11T12:05:21.458443", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:05:21,458 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:05:24,039 | INFO | {"timestamp": "2025-07-11T12:05:24.039154", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"}}
2025-07-11 16:05:24,041 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:05:21.464820+00:00', 'end_time': '2025-07-11T12:05:24.039533+00:00', 'duration': 2.574713, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:05:21.464820+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:05:21.464984+00:00', 'model_end_time': '2025-07-11T12:05:24.039518+00:00', 'model_duration': 2.574534}], 'pipeline_end_time': '2025-07-11T12:05:24.039533+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:05:24,044 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:05:21.464820+00:00', 'end_time': '2025-07-11T12:05:24.039533+00:00', 'duration': 2.574713, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:05:24.041978+00:00', 'end_time': '2025-07-11T12:05:24.042200+00:00', 'duration': 0.000222, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:05:21.464820+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:05:21.464984+00:00', 'model_end_time': '2025-07-11T12:05:24.039518+00:00', 'model_duration': 2.574534}], 'pipeline_end_time': '2025-07-11T12:05:24.042200+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:05:24,046 | INFO | Event: {'Data Collection US': {'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview-2025-03-11`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 16:05:24,053 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:05:24,054 | INFO | {"timestamp": "2025-07-11T12:05:24.054212", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'fd8c3af6-bacd-22c9-4fe9-e1d99b708ac0'\n"}}
2025-07-11 16:05:24,057 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:05:24,057 | INFO | {"timestamp": "2025-07-11T12:05:24.057682", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'fd8c3af6-bacd-22c9-4fe9-e1d99b708ac0'\n"}}
2025-07-11 16:07:04,640 | INFO | Overrode default_provider → openai
2025-07-11 16:07:06,092 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:07:06,092 | INFO | {"timestamp": "2025-07-11T12:07:06.092846", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,093 | INFO | {"timestamp": "2025-07-11T12:07:06.093099", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,093 | INFO | {"timestamp": "2025-07-11T12:07:06.093370", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,093 | INFO | {"timestamp": "2025-07-11T12:07:06.093874", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,094 | INFO | {"timestamp": "2025-07-11T12:07:06.094140", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,094 | INFO | {"timestamp": "2025-07-11T12:07:06.094348", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,095 | INFO | {"timestamp": "2025-07-11T12:07:06.095084", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,095 | INFO | {"timestamp": "2025-07-11T12:07:06.095358", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,095 | INFO | {"timestamp": "2025-07-11T12:07:06.095583", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,095 | INFO | {"timestamp": "2025-07-11T12:07:06.095824", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,096 | INFO | {"timestamp": "2025-07-11T12:07:06.095996", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,096 | INFO | {"timestamp": "2025-07-11T12:07:06.096175", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,096 | INFO | {"timestamp": "2025-07-11T12:07:06.096366", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,096 | INFO | {"timestamp": "2025-07-11T12:07:06.096525", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:06,096 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:07:06,096 | INFO | {"timestamp": "2025-07-11T12:07:06.096884", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:07:06,097 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:07:06,097 | INFO | {"timestamp": "2025-07-11T12:07:06.097352", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:07:06,097 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:07:06,097 | INFO | {"timestamp": "2025-07-11T12:07:06.097700", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:07:06,097 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:07:06,098 | INFO | {"timestamp": "2025-07-11T12:07:06.098058", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:07:06,098 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:07:06,098 | INFO | {"timestamp": "2025-07-11T12:07:06.098420", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:07:06,098 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:07:06,098 | INFO | {"timestamp": "2025-07-11T12:07:06.098814", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:07:06,099 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:07:06,099 | INFO | {"timestamp": "2025-07-11T12:07:06.099208", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:07:06,099 | INFO | Injected QWEN_API_KEY
2025-07-11 16:07:06,099 | INFO | {"timestamp": "2025-07-11T12:07:06.099568", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:07:06,099 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:07:06,100 | INFO | {"timestamp": "2025-07-11T12:07:06.100002", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:07:06,100 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:07:06,100 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,100 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,100 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,101 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,101 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,101 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,102 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,102 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,102 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,102 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,103 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,103 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:07:06,103 | INFO | {"timestamp": "2025-07-11T12:07:06.103587", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:07:06,480 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:07:06,480 | INFO | {"timestamp": "2025-07-11T12:07:06.480609", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:07:06,480 | INFO | {"timestamp": "2025-07-11T12:07:06.480829", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:07:06,481 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:07:06,481 | INFO | {"timestamp": "2025-07-11T12:07:06.481529", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:07:06,481 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,482 | INFO | {"timestamp": "2025-07-11T12:07:06.482069", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:06,482 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,482 | INFO | {"timestamp": "2025-07-11T12:07:06.482572", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:06,482 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,483 | INFO | {"timestamp": "2025-07-11T12:07:06.483174", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:06,483 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,483 | INFO | {"timestamp": "2025-07-11T12:07:06.483758", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:06,484 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,484 | INFO | {"timestamp": "2025-07-11T12:07:06.484319", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:06,484 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:06,484 | INFO | {"timestamp": "2025-07-11T12:07:06.484854", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:06,485 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,485 | INFO | {"timestamp": "2025-07-11T12:07:06.485397", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:06,485 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,485 | INFO | {"timestamp": "2025-07-11T12:07:06.485920", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:06,486 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,486 | INFO | {"timestamp": "2025-07-11T12:07:06.486523", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:06,486 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,487 | INFO | {"timestamp": "2025-07-11T12:07:06.487105", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:06,487 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:06,487 | INFO | {"timestamp": "2025-07-11T12:07:06.487675", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:06,487 | INFO | {"timestamp": "2025-07-11T12:07:06.487881", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:07:06,488 | INFO | All agents instantiated
2025-07-11 16:07:06,488 | INFO | {"timestamp": "2025-07-11T12:07:06.488448", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:07:06,488 | INFO | {"timestamp": "2025-07-11T12:07:06.488661", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:07:06,492 | INFO | Graph edges configured
2025-07-11 16:07:06,493 | INFO | {"timestamp": "2025-07-11T12:07:06.493172", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:07:06,493 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:07:06,493 | INFO | {"timestamp": "2025-07-11T12:07:06.493568", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:07:07,091 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:07:07,091 | INFO | {"timestamp": "2025-07-11T12:07:07.091902", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:07:07,092 | INFO | Graph compiled; starting execution
2025-07-11 16:07:07,094 | INFO | {"timestamp": "2025-07-11T12:07:07.094900", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:07:07,095 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:07:09,666 | INFO | {"timestamp": "2025-07-11T12:07:09.666863", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"}}
2025-07-11 16:07:09,669 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:07:07.101660+00:00', 'end_time': '2025-07-11T12:07:09.667228+00:00', 'duration': 2.565568, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:07:07.101660+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:07:07.101878+00:00', 'model_end_time': '2025-07-11T12:07:09.667211+00:00', 'model_duration': 2.565333}], 'pipeline_end_time': '2025-07-11T12:07:09.667228+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:07:09,672 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:07:07.101660+00:00', 'end_time': '2025-07-11T12:07:09.667228+00:00', 'duration': 2.565568, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:07:09.669676+00:00', 'end_time': '2025-07-11T12:07:09.669829+00:00', 'duration': 0.000153, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:07:07.101660+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:07:07.101878+00:00', 'model_end_time': '2025-07-11T12:07:09.667211+00:00', 'model_duration': 2.565333}], 'pipeline_end_time': '2025-07-11T12:07:09.669829+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:07:09,674 | INFO | Event: {'Data Collection US': {'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 16:07:09,680 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:07:09,681 | INFO | {"timestamp": "2025-07-11T12:07:09.681033", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'e2f800c8-312d-4b3b-dcb4-0d4621d3049b'\n"}}
2025-07-11 16:07:09,684 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:07:09,684 | INFO | {"timestamp": "2025-07-11T12:07:09.684723", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'e2f800c8-312d-4b3b-dcb4-0d4621d3049b'\n"}}
2025-07-11 16:07:25,578 | INFO | Overrode default_provider → openai
2025-07-11 16:07:27,732 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:07:27,733 | INFO | {"timestamp": "2025-07-11T12:07:27.733501", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,733 | INFO | {"timestamp": "2025-07-11T12:07:27.733831", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,734 | INFO | {"timestamp": "2025-07-11T12:07:27.734109", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,734 | INFO | {"timestamp": "2025-07-11T12:07:27.734536", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,734 | INFO | {"timestamp": "2025-07-11T12:07:27.734774", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,735 | INFO | {"timestamp": "2025-07-11T12:07:27.735038", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,736 | INFO | {"timestamp": "2025-07-11T12:07:27.735946", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,736 | INFO | {"timestamp": "2025-07-11T12:07:27.736261", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,736 | INFO | {"timestamp": "2025-07-11T12:07:27.736519", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,736 | INFO | {"timestamp": "2025-07-11T12:07:27.736740", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,737 | INFO | {"timestamp": "2025-07-11T12:07:27.736975", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,737 | INFO | {"timestamp": "2025-07-11T12:07:27.737231", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,737 | INFO | {"timestamp": "2025-07-11T12:07:27.737447", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,737 | INFO | {"timestamp": "2025-07-11T12:07:27.737767", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:07:27,738 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:07:27,738 | INFO | {"timestamp": "2025-07-11T12:07:27.738825", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:07:27,739 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:07:27,739 | INFO | {"timestamp": "2025-07-11T12:07:27.739492", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:07:27,739 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:07:27,739 | INFO | {"timestamp": "2025-07-11T12:07:27.739921", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:07:27,740 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:07:27,740 | INFO | {"timestamp": "2025-07-11T12:07:27.740472", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:07:27,740 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:07:27,741 | INFO | {"timestamp": "2025-07-11T12:07:27.740964", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:07:27,741 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:07:27,741 | INFO | {"timestamp": "2025-07-11T12:07:27.741480", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:07:27,741 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:07:27,742 | INFO | {"timestamp": "2025-07-11T12:07:27.741964", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:07:27,742 | INFO | Injected QWEN_API_KEY
2025-07-11 16:07:27,742 | INFO | {"timestamp": "2025-07-11T12:07:27.742474", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:07:27,742 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:07:27,742 | INFO | {"timestamp": "2025-07-11T12:07:27.742958", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:07:27,743 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:07:27,743 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:27,743 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:27,744 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:27,744 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:27,744 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:27,745 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:27,745 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:27,745 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:27,745 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:27,745 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:27,746 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:27,746 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:07:27,746 | INFO | {"timestamp": "2025-07-11T12:07:27.746680", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:07:28,169 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:07:28,169 | INFO | {"timestamp": "2025-07-11T12:07:28.169510", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:07:28,169 | INFO | {"timestamp": "2025-07-11T12:07:28.169819", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:07:28,170 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:07:28,170 | INFO | {"timestamp": "2025-07-11T12:07:28.170404", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:07:28,170 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:28,171 | INFO | {"timestamp": "2025-07-11T12:07:28.170992", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:28,171 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:28,171 | INFO | {"timestamp": "2025-07-11T12:07:28.171391", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:28,171 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:28,171 | INFO | {"timestamp": "2025-07-11T12:07:28.171775", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:28,172 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:28,172 | INFO | {"timestamp": "2025-07-11T12:07:28.172213", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:28,172 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:28,172 | INFO | {"timestamp": "2025-07-11T12:07:28.172659", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:28,172 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:07:28,173 | INFO | {"timestamp": "2025-07-11T12:07:28.173170", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:07:28,173 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:28,173 | INFO | {"timestamp": "2025-07-11T12:07:28.173650", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:28,173 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:28,174 | INFO | {"timestamp": "2025-07-11T12:07:28.174164", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:28,174 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:28,174 | INFO | {"timestamp": "2025-07-11T12:07:28.174745", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:28,175 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:28,175 | INFO | {"timestamp": "2025-07-11T12:07:28.175152", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:28,175 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:07:28,175 | INFO | {"timestamp": "2025-07-11T12:07:28.175524", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:07:28,175 | INFO | {"timestamp": "2025-07-11T12:07:28.175735", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:07:28,175 | INFO | All agents instantiated
2025-07-11 16:07:28,176 | INFO | {"timestamp": "2025-07-11T12:07:28.176082", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:07:28,176 | INFO | {"timestamp": "2025-07-11T12:07:28.176287", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:07:28,181 | INFO | Graph edges configured
2025-07-11 16:07:28,181 | INFO | {"timestamp": "2025-07-11T12:07:28.181585", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:07:28,181 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:07:28,182 | INFO | {"timestamp": "2025-07-11T12:07:28.182086", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:07:28,752 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:07:28,753 | INFO | {"timestamp": "2025-07-11T12:07:28.753110", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:07:28,753 | INFO | Graph compiled; starting execution
2025-07-11 16:07:28,756 | INFO | {"timestamp": "2025-07-11T12:07:28.756655", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:07:28,757 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:07:30,878 | INFO | {"timestamp": "2025-07-11T12:07:30.878614", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"}}
2025-07-11 16:07:30,880 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:07:28.764221+00:00', 'end_time': '2025-07-11T12:07:30.878997+00:00', 'duration': 2.114776, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:07:28.764221+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:07:28.764394+00:00', 'model_end_time': '2025-07-11T12:07:30.878981+00:00', 'model_duration': 2.114587}], 'pipeline_end_time': '2025-07-11T12:07:30.878997+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:07:30,884 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:07:28.764221+00:00', 'end_time': '2025-07-11T12:07:30.878997+00:00', 'duration': 2.114776, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:07:30.881187+00:00', 'end_time': '2025-07-11T12:07:30.881419+00:00', 'duration': 0.000232, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:07:28.764221+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:07:28.764394+00:00', 'model_end_time': '2025-07-11T12:07:30.878981+00:00', 'model_duration': 2.114587}], 'pipeline_end_time': '2025-07-11T12:07:30.881419+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:07:30,886 | INFO | Event: {'Data Collection US': {'error_log': ["Error during LLM data extraction: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-search-preview`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 16:07:30,892 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:07:30,892 | INFO | {"timestamp": "2025-07-11T12:07:30.892628", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'c6c4b277-99ff-c690-6b5d-0c0995da177f'\n"}}
2025-07-11 16:07:30,896 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:07:30,896 | INFO | {"timestamp": "2025-07-11T12:07:30.896627", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'c6c4b277-99ff-c690-6b5d-0c0995da177f'\n"}}
2025-07-11 16:08:48,586 | INFO | Overrode default_provider → openai
2025-07-11 16:08:49,884 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:08:49,886 | INFO | {"timestamp": "2025-07-11T12:08:49.886172", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,887 | INFO | {"timestamp": "2025-07-11T12:08:49.886943", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,887 | INFO | {"timestamp": "2025-07-11T12:08:49.887650", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,888 | INFO | {"timestamp": "2025-07-11T12:08:49.888772", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,889 | INFO | {"timestamp": "2025-07-11T12:08:49.889388", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,890 | INFO | {"timestamp": "2025-07-11T12:08:49.890035", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,891 | INFO | {"timestamp": "2025-07-11T12:08:49.891607", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,892 | INFO | {"timestamp": "2025-07-11T12:08:49.892176", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,892 | INFO | {"timestamp": "2025-07-11T12:08:49.892676", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,893 | INFO | {"timestamp": "2025-07-11T12:08:49.893247", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,893 | INFO | {"timestamp": "2025-07-11T12:08:49.893744", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,894 | INFO | {"timestamp": "2025-07-11T12:08:49.894209", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,894 | INFO | {"timestamp": "2025-07-11T12:08:49.894680", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,895 | INFO | {"timestamp": "2025-07-11T12:08:49.895170", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:08:49,895 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:08:49,896 | INFO | {"timestamp": "2025-07-11T12:08:49.896104", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:08:49,896 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:08:49,897 | INFO | {"timestamp": "2025-07-11T12:08:49.897015", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:08:49,897 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:08:49,897 | INFO | {"timestamp": "2025-07-11T12:08:49.897706", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:08:49,898 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:08:49,898 | INFO | {"timestamp": "2025-07-11T12:08:49.898525", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:08:49,898 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:08:49,899 | INFO | {"timestamp": "2025-07-11T12:08:49.899309", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:08:49,899 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:08:49,900 | INFO | {"timestamp": "2025-07-11T12:08:49.900113", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:08:49,900 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:08:49,900 | INFO | {"timestamp": "2025-07-11T12:08:49.900905", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:08:49,901 | INFO | Injected QWEN_API_KEY
2025-07-11 16:08:49,901 | INFO | {"timestamp": "2025-07-11T12:08:49.901687", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:08:49,902 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:08:49,902 | INFO | {"timestamp": "2025-07-11T12:08:49.902388", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:08:49,902 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:08:49,903 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:49,903 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:49,903 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:49,904 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:49,904 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:49,904 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:49,905 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:49,905 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:49,906 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:49,906 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:49,906 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:49,907 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:08:49,907 | INFO | {"timestamp": "2025-07-11T12:08:49.907370", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:08:50,182 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:08:50,183 | INFO | {"timestamp": "2025-07-11T12:08:50.183130", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:08:50,183 | INFO | {"timestamp": "2025-07-11T12:08:50.183335", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:08:50,183 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:08:50,183 | INFO | {"timestamp": "2025-07-11T12:08:50.183777", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:08:50,184 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:50,184 | INFO | {"timestamp": "2025-07-11T12:08:50.184202", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:08:50,184 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:50,184 | INFO | {"timestamp": "2025-07-11T12:08:50.184737", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:08:50,184 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:50,185 | INFO | {"timestamp": "2025-07-11T12:08:50.185142", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:08:50,185 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:50,185 | INFO | {"timestamp": "2025-07-11T12:08:50.185579", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:08:50,185 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:50,185 | INFO | {"timestamp": "2025-07-11T12:08:50.185954", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:08:50,186 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:08:50,186 | INFO | {"timestamp": "2025-07-11T12:08:50.186337", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:08:50,186 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:50,186 | INFO | {"timestamp": "2025-07-11T12:08:50.186743", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:08:50,186 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:50,187 | INFO | {"timestamp": "2025-07-11T12:08:50.187142", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:08:50,187 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:50,187 | INFO | {"timestamp": "2025-07-11T12:08:50.187531", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:08:50,187 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:50,187 | INFO | {"timestamp": "2025-07-11T12:08:50.187947", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:08:50,188 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:08:50,188 | INFO | {"timestamp": "2025-07-11T12:08:50.188368", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:08:50,188 | INFO | {"timestamp": "2025-07-11T12:08:50.188538", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:08:50,188 | INFO | All agents instantiated
2025-07-11 16:08:50,188 | INFO | {"timestamp": "2025-07-11T12:08:50.188889", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:08:50,189 | INFO | {"timestamp": "2025-07-11T12:08:50.189071", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:08:50,192 | INFO | Graph edges configured
2025-07-11 16:08:50,192 | INFO | {"timestamp": "2025-07-11T12:08:50.192310", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:08:50,192 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:08:50,192 | INFO | {"timestamp": "2025-07-11T12:08:50.192650", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:08:50,836 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:08:50,836 | INFO | {"timestamp": "2025-07-11T12:08:50.836895", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:08:50,837 | INFO | Graph compiled; starting execution
2025-07-11 16:08:50,839 | INFO | {"timestamp": "2025-07-11T12:08:50.839654", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:08:50,840 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:08:54,821 | INFO | {"timestamp": "2025-07-11T12:08:54.821865", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"}}
2025-07-11 16:08:54,824 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:08:50.846029+00:00', 'end_time': '2025-07-11T12:08:54.822260+00:00', 'duration': 3.976231, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:08:50.846029+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:08:50.846243+00:00', 'model_end_time': '2025-07-11T12:08:54.822244+00:00', 'model_duration': 3.976001}], 'pipeline_end_time': '2025-07-11T12:08:54.822260+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:08:54,828 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:08:50.846029+00:00', 'end_time': '2025-07-11T12:08:54.822260+00:00', 'duration': 3.976231, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:08:54.825173+00:00', 'end_time': '2025-07-11T12:08:54.825289+00:00', 'duration': 0.000116, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:08:50.846029+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:08:50.846243+00:00', 'model_end_time': '2025-07-11T12:08:54.822244+00:00', 'model_duration': 3.976001}], 'pipeline_end_time': '2025-07-11T12:08:54.825289+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:08:54,830 | INFO | Event: {'Data Collection US': {'error_log': ["Error during LLM data extraction: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 16:08:54,836 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:08:54,837 | INFO | {"timestamp": "2025-07-11T12:08:54.837207", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'fec6bc8b-7c0f-436e-d4a0-708c7af66f81'\n"}}
2025-07-11 16:08:54,840 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:08:54,840 | INFO | {"timestamp": "2025-07-11T12:08:54.840813", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'fec6bc8b-7c0f-436e-d4a0-708c7af66f81'\n"}}
2025-07-11 16:19:26,429 | INFO | Overrode default_provider → openai
2025-07-11 16:19:27,778 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:19:27,778 | INFO | {"timestamp": "2025-07-11T12:19:27.778791", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,779 | INFO | {"timestamp": "2025-07-11T12:19:27.779053", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,779 | INFO | {"timestamp": "2025-07-11T12:19:27.779323", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,779 | INFO | {"timestamp": "2025-07-11T12:19:27.779748", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,779 | INFO | {"timestamp": "2025-07-11T12:19:27.779958", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,780 | INFO | {"timestamp": "2025-07-11T12:19:27.780249", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,781 | INFO | {"timestamp": "2025-07-11T12:19:27.781576", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,781 | INFO | {"timestamp": "2025-07-11T12:19:27.781859", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,782 | INFO | {"timestamp": "2025-07-11T12:19:27.782031", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,782 | INFO | {"timestamp": "2025-07-11T12:19:27.782301", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,782 | INFO | {"timestamp": "2025-07-11T12:19:27.782574", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,782 | INFO | {"timestamp": "2025-07-11T12:19:27.782840", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,783 | INFO | {"timestamp": "2025-07-11T12:19:27.783120", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,783 | INFO | {"timestamp": "2025-07-11T12:19:27.783389", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:19:27,783 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:19:27,783 | INFO | {"timestamp": "2025-07-11T12:19:27.783942", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:19:27,784 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:19:27,784 | INFO | {"timestamp": "2025-07-11T12:19:27.784462", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:19:27,784 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:19:27,784 | INFO | {"timestamp": "2025-07-11T12:19:27.784974", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:19:27,785 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:19:27,785 | INFO | {"timestamp": "2025-07-11T12:19:27.785473", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:19:27,785 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:19:27,786 | INFO | {"timestamp": "2025-07-11T12:19:27.785987", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:19:27,786 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:19:27,786 | INFO | {"timestamp": "2025-07-11T12:19:27.786491", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:19:27,786 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:19:27,787 | INFO | {"timestamp": "2025-07-11T12:19:27.786986", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:19:27,787 | INFO | Injected QWEN_API_KEY
2025-07-11 16:19:27,787 | INFO | {"timestamp": "2025-07-11T12:19:27.787395", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:19:27,787 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:19:27,787 | INFO | {"timestamp": "2025-07-11T12:19:27.787860", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:19:27,788 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:19:27,788 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:27,788 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:27,788 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:27,789 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:27,789 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:27,789 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:27,789 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:27,790 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:27,790 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:27,790 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:27,790 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:27,790 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:19:27,791 | INFO | {"timestamp": "2025-07-11T12:19:27.791177", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:19:28,058 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:19:28,058 | INFO | {"timestamp": "2025-07-11T12:19:28.058533", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:19:28,058 | INFO | {"timestamp": "2025-07-11T12:19:28.058767", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:19:28,059 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:19:28,059 | INFO | {"timestamp": "2025-07-11T12:19:28.059174", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:19:28,059 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:28,059 | INFO | {"timestamp": "2025-07-11T12:19:28.059586", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:19:28,059 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:28,060 | INFO | {"timestamp": "2025-07-11T12:19:28.060116", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:19:28,060 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:28,060 | INFO | {"timestamp": "2025-07-11T12:19:28.060652", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:19:28,060 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:28,061 | INFO | {"timestamp": "2025-07-11T12:19:28.061188", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:19:28,061 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:28,061 | INFO | {"timestamp": "2025-07-11T12:19:28.061740", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:19:28,062 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:19:28,062 | INFO | {"timestamp": "2025-07-11T12:19:28.062245", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:19:28,062 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:28,062 | INFO | {"timestamp": "2025-07-11T12:19:28.062785", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:19:28,063 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:28,063 | INFO | {"timestamp": "2025-07-11T12:19:28.063316", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:19:28,063 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:28,063 | INFO | {"timestamp": "2025-07-11T12:19:28.063860", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:19:28,064 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:28,064 | INFO | {"timestamp": "2025-07-11T12:19:28.064345", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:19:28,064 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:19:28,064 | INFO | {"timestamp": "2025-07-11T12:19:28.064827", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:19:28,065 | INFO | {"timestamp": "2025-07-11T12:19:28.065104", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:19:28,065 | INFO | All agents instantiated
2025-07-11 16:19:28,065 | INFO | {"timestamp": "2025-07-11T12:19:28.065592", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:19:28,065 | INFO | {"timestamp": "2025-07-11T12:19:28.065795", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:19:28,069 | INFO | Graph edges configured
2025-07-11 16:19:28,069 | INFO | {"timestamp": "2025-07-11T12:19:28.069321", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:19:28,069 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:19:28,069 | INFO | {"timestamp": "2025-07-11T12:19:28.069816", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:19:28,806 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:19:28,806 | INFO | {"timestamp": "2025-07-11T12:19:28.806485", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:19:28,806 | INFO | Graph compiled; starting execution
2025-07-11 16:19:28,808 | INFO | {"timestamp": "2025-07-11T12:19:28.808945", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:19:28,809 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:19:31,905 | INFO | {"timestamp": "2025-07-11T12:19:31.905207", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"}}
2025-07-11 16:19:31,907 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:19:28.814852+00:00', 'end_time': '2025-07-11T12:19:31.905624+00:00', 'duration': 3.090772, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:19:28.814852+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:19:28.815122+00:00', 'model_end_time': '2025-07-11T12:19:31.905608+00:00', 'model_duration': 3.090486}], 'pipeline_end_time': '2025-07-11T12:19:31.905624+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:19:31,910 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:19:28.814852+00:00', 'end_time': '2025-07-11T12:19:31.905624+00:00', 'duration': 3.090772, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:19:31.907974+00:00', 'end_time': '2025-07-11T12:19:31.908179+00:00', 'duration': 0.000205, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:19:28.814852+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:19:28.815122+00:00', 'model_end_time': '2025-07-11T12:19:31.905608+00:00', 'model_duration': 3.090486}], 'pipeline_end_time': '2025-07-11T12:19:31.908179+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ["Error during LLM data extraction: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:19:31,912 | INFO | Event: {'Data Collection US': {'error_log': ["Error during LLM data extraction: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 16:19:31,919 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:19:31,919 | INFO | {"timestamp": "2025-07-11T12:19:31.919437", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'e888b338-744d-4574-ecc8-bc71ffc27f29'\n"}}
2025-07-11 16:19:31,922 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:19:31,922 | INFO | {"timestamp": "2025-07-11T12:19:31.922933", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id 'e888b338-744d-4574-ecc8-bc71ffc27f29'\n"}}
2025-07-11 16:26:51,140 | INFO | Overrode default_provider → openai
2025-07-11 16:26:53,831 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:26:53,831 | INFO | {"timestamp": "2025-07-11T12:26:53.831846", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,832 | INFO | {"timestamp": "2025-07-11T12:26:53.832118", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,832 | INFO | {"timestamp": "2025-07-11T12:26:53.832485", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,833 | INFO | {"timestamp": "2025-07-11T12:26:53.832999", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,833 | INFO | {"timestamp": "2025-07-11T12:26:53.833324", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,833 | INFO | {"timestamp": "2025-07-11T12:26:53.833590", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,834 | INFO | {"timestamp": "2025-07-11T12:26:53.834404", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,834 | INFO | {"timestamp": "2025-07-11T12:26:53.834727", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,835 | INFO | {"timestamp": "2025-07-11T12:26:53.835041", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,835 | INFO | {"timestamp": "2025-07-11T12:26:53.835338", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,835 | INFO | {"timestamp": "2025-07-11T12:26:53.835779", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,836 | INFO | {"timestamp": "2025-07-11T12:26:53.836092", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,836 | INFO | {"timestamp": "2025-07-11T12:26:53.836357", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,836 | INFO | {"timestamp": "2025-07-11T12:26:53.836627", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:26:53,837 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:26:53,837 | INFO | {"timestamp": "2025-07-11T12:26:53.837365", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:26:53,837 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:26:53,838 | INFO | {"timestamp": "2025-07-11T12:26:53.838115", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:26:53,838 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:26:53,838 | INFO | {"timestamp": "2025-07-11T12:26:53.838811", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:26:53,839 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:26:53,839 | INFO | {"timestamp": "2025-07-11T12:26:53.839492", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:26:53,839 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:26:53,840 | INFO | {"timestamp": "2025-07-11T12:26:53.840100", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:26:53,840 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:26:53,840 | INFO | {"timestamp": "2025-07-11T12:26:53.840734", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:26:53,841 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:26:53,841 | INFO | {"timestamp": "2025-07-11T12:26:53.841368", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:26:53,841 | INFO | Injected QWEN_API_KEY
2025-07-11 16:26:53,842 | INFO | {"timestamp": "2025-07-11T12:26:53.841979", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:26:53,842 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:26:53,842 | INFO | {"timestamp": "2025-07-11T12:26:53.842608", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:26:53,842 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:26:53,843 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:53,843 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:53,843 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:53,844 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:53,844 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:53,844 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:53,845 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:53,845 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:53,845 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:53,846 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:53,846 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:53,846 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:26:53,847 | INFO | {"timestamp": "2025-07-11T12:26:53.847190", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:26:54,122 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:26:54,122 | INFO | {"timestamp": "2025-07-11T12:26:54.122913", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:26:54,123 | INFO | {"timestamp": "2025-07-11T12:26:54.123126", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:26:54,123 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:26:54,123 | INFO | {"timestamp": "2025-07-11T12:26:54.123624", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:26:54,123 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:54,124 | INFO | {"timestamp": "2025-07-11T12:26:54.124068", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:26:54,124 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:54,124 | INFO | {"timestamp": "2025-07-11T12:26:54.124465", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:26:54,124 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:54,125 | INFO | {"timestamp": "2025-07-11T12:26:54.124992", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:26:54,125 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:54,125 | INFO | {"timestamp": "2025-07-11T12:26:54.125520", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:26:54,125 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:54,125 | INFO | {"timestamp": "2025-07-11T12:26:54.125911", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:26:54,126 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:26:54,126 | INFO | {"timestamp": "2025-07-11T12:26:54.126329", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:26:54,126 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:54,126 | INFO | {"timestamp": "2025-07-11T12:26:54.126712", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:26:54,126 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:54,127 | INFO | {"timestamp": "2025-07-11T12:26:54.127063", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:26:54,127 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:54,127 | INFO | {"timestamp": "2025-07-11T12:26:54.127478", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:26:54,127 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:54,127 | INFO | {"timestamp": "2025-07-11T12:26:54.127904", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:26:54,128 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:26:54,128 | INFO | {"timestamp": "2025-07-11T12:26:54.128332", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:26:54,128 | INFO | {"timestamp": "2025-07-11T12:26:54.128524", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:26:54,128 | INFO | All agents instantiated
2025-07-11 16:26:54,128 | INFO | {"timestamp": "2025-07-11T12:26:54.128972", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:26:54,129 | INFO | {"timestamp": "2025-07-11T12:26:54.129185", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:26:54,132 | INFO | Graph edges configured
2025-07-11 16:26:54,132 | INFO | {"timestamp": "2025-07-11T12:26:54.132278", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:26:54,132 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:26:54,132 | INFO | {"timestamp": "2025-07-11T12:26:54.132646", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:26:55,324 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:26:55,324 | INFO | {"timestamp": "2025-07-11T12:26:55.324447", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:26:55,324 | INFO | Graph compiled; starting execution
2025-07-11 16:26:55,327 | INFO | {"timestamp": "2025-07-11T12:26:55.327043", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:26:55,327 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:27:00,631 | INFO | {"timestamp": "2025-07-11T12:27:00.630930", "event_type": "company_data_extracted", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "tokens_sent": 112, "tokens_generated": 241, "cost_llm": 0.0007059999999999999}}
2025-07-11 16:27:00,636 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Corporate & Investment Bank', 'Commercial Banking', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['NYSE: JPM'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date for 2024': 'February 14, 2025', 'currency': 'USD', 'current share price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': None, 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:26:55.333739+00:00', 'end_time': '2025-07-11T12:27:00.631879+00:00', 'duration': 5.29814, 'cost_llm': 0.0007059999999999999, 'tokens_sent': 112, 'tokens_generated': 241, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:26:55.333739+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 241, 'cost_llm': 0.0007059999999999999, 'model_start_time': '2025-07-11T12:26:55.333898+00:00', 'model_end_time': '2025-07-11T12:27:00.631837+00:00', 'model_duration': 5.297939}], 'pipeline_end_time': '2025-07-11T12:27:00.631879+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:27:00,643 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Corporate & Investment Bank', 'Commercial Banking', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['NYSE: JPM'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date for 2024': 'February 14, 2025', 'currency': 'USD', 'current share price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': None, 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:26:55.333739+00:00', 'end_time': '2025-07-11T12:27:00.631879+00:00', 'duration': 5.29814, 'cost_llm': 0.0007059999999999999, 'tokens_sent': 112, 'tokens_generated': 241, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:00.637670+00:00', 'end_time': '2025-07-11T12:27:00.638005+00:00', 'duration': 0.000335, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:26:55.333739+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 241, 'cost_llm': 0.0007059999999999999, 'model_start_time': '2025-07-11T12:26:55.333898+00:00', 'model_end_time': '2025-07-11T12:27:00.631837+00:00', 'model_duration': 5.297939}], 'pipeline_end_time': '2025-07-11T12:27:00.638005+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:27:00,646 | INFO | Attempting initial fetch for Section 1 from https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm
2025-07-11 16:27:01,872 | INFO | Attempting initial fetch for Section 1A from https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm
2025-07-11 16:27:03,236 | INFO | Attempting initial fetch for Section 7 from https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm
2025-07-11 16:27:18,534 | INFO | Event: {'Data Collection US': {'error_log': ['Processing initiated.', "Critical error in Data Collection US Node: type object 'NodeStatus' has no attribute 'PARTIAL_FAILURE'"]}}
2025-07-11 16:27:18,617 | INFO | Event: {'Validate Collected Data': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Corporate & Investment Bank', 'Commercial Banking', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['NYSE: JPM'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date for 2024': 'February 14, 2025', 'currency': 'USD', 'current share price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': None, 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/000001961725000270/jpm-20241231.htm', 'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'llm_provider': 'NA', 'llm_model': 'NA', 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region', 'US Data Collection', 'Validate Collected Data'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:26:55.333739+00:00', 'end_time': '2025-07-11T12:27:00.631879+00:00', 'duration': 5.29814, 'cost_llm': 0.0007059999999999999, 'tokens_sent': 112, 'tokens_generated': 241, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:00.637670+00:00', 'end_time': '2025-07-11T12:27:00.638005+00:00', 'duration': 0.000335, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'US Data Collection', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:00.643703+00:00', 'end_time': '2025-07-11T12:27:18.533168+00:00', 'duration': 17.889465, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['collect_us_financial_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Validate Collected Data', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:18.535771+00:00', 'end_time': '2025-07-11T12:27:18.615665+00:00', 'duration': 0.079894, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['get_data_collection_tasks', 'validate_raw_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:26:55.333739+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 241, 'cost_llm': 0.0007059999999999999, 'model_start_time': '2025-07-11T12:26:55.333898+00:00', 'model_end_time': '2025-07-11T12:27:00.631837+00:00', 'model_duration': 5.297939}, {'agent': 'collection validation', 'provider': 'NA', 'model': 'NA', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}], 'pipeline_end_time': '2025-07-11T12:27:18.615665+00:00', 'branch': 'end'}, 'audit_notes': [], 'llm_decision': 'end', 'termination_reason': 'Missing files', 'validation_result_key': 'invalid', 'error_log': ['Processing initiated.', "Critical error in Data Collection US Node: type object 'NodeStatus' has no attribute 'PARTIAL_FAILURE'", "validate_collected_data failed (missing: ['report\\\\jpmorgan_2024_openai\\\\summaries\\\\key_data.json'])"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:27:18,618 | INFO | Orchestration terminated early: Missing files
2025-07-11 16:27:18,618 | INFO | {"timestamp": "2025-07-11T12:27:18.618657", "event_type": "orchestration_completed", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "status": "terminated_early", "reason": "Missing files"}}
2025-07-11 16:27:18,622 | INFO | Saved pipeline node metrics to report\jpmorgan_2024_openai\pipeline_metrics.json
2025-07-11 16:27:35,800 | INFO | Overrode default_provider → openai
2025-07-11 16:27:37,933 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:27:37,933 | INFO | {"timestamp": "2025-07-11T12:27:37.933571", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,933 | INFO | {"timestamp": "2025-07-11T12:27:37.933793", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,934 | INFO | {"timestamp": "2025-07-11T12:27:37.934069", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,934 | INFO | {"timestamp": "2025-07-11T12:27:37.934546", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,934 | INFO | {"timestamp": "2025-07-11T12:27:37.934826", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,935 | INFO | {"timestamp": "2025-07-11T12:27:37.935125", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,935 | INFO | {"timestamp": "2025-07-11T12:27:37.935778", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,936 | INFO | {"timestamp": "2025-07-11T12:27:37.936032", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,936 | INFO | {"timestamp": "2025-07-11T12:27:37.936374", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,936 | INFO | {"timestamp": "2025-07-11T12:27:37.936676", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,936 | INFO | {"timestamp": "2025-07-11T12:27:37.936970", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,937 | INFO | {"timestamp": "2025-07-11T12:27:37.937264", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,937 | INFO | {"timestamp": "2025-07-11T12:27:37.937553", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,937 | INFO | {"timestamp": "2025-07-11T12:27:37.937834", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:27:37,938 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:27:37,938 | INFO | {"timestamp": "2025-07-11T12:27:37.938389", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:27:37,938 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:27:37,938 | INFO | {"timestamp": "2025-07-11T12:27:37.938962", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:27:37,939 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:27:37,939 | INFO | {"timestamp": "2025-07-11T12:27:37.939504", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:27:37,939 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:27:37,940 | INFO | {"timestamp": "2025-07-11T12:27:37.940066", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:27:37,940 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:27:37,940 | INFO | {"timestamp": "2025-07-11T12:27:37.940646", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:27:37,940 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:27:37,941 | INFO | {"timestamp": "2025-07-11T12:27:37.941189", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:27:37,941 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:27:37,941 | INFO | {"timestamp": "2025-07-11T12:27:37.941776", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:27:37,942 | INFO | Injected QWEN_API_KEY
2025-07-11 16:27:37,942 | INFO | {"timestamp": "2025-07-11T12:27:37.942300", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:27:37,942 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:27:37,942 | INFO | {"timestamp": "2025-07-11T12:27:37.942838", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:27:37,943 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:27:37,943 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:37,943 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:37,943 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:37,944 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:37,944 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:37,944 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:37,945 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:37,945 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:37,945 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:37,945 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:37,946 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:37,946 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:27:37,946 | INFO | {"timestamp": "2025-07-11T12:27:37.946652", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:27:38,510 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:27:38,510 | INFO | {"timestamp": "2025-07-11T12:27:38.510807", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:27:38,511 | INFO | {"timestamp": "2025-07-11T12:27:38.511060", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:27:38,511 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:27:38,511 | INFO | {"timestamp": "2025-07-11T12:27:38.511851", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:27:38,512 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:38,512 | INFO | {"timestamp": "2025-07-11T12:27:38.512546", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:27:38,512 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:38,512 | INFO | {"timestamp": "2025-07-11T12:27:38.512939", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:27:38,513 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:38,513 | INFO | {"timestamp": "2025-07-11T12:27:38.513319", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:27:38,513 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:38,513 | INFO | {"timestamp": "2025-07-11T12:27:38.513720", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:27:38,513 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:38,514 | INFO | {"timestamp": "2025-07-11T12:27:38.514143", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:27:38,514 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:27:38,514 | INFO | {"timestamp": "2025-07-11T12:27:38.514498", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:27:38,514 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:38,514 | INFO | {"timestamp": "2025-07-11T12:27:38.514817", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:27:38,515 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:38,515 | INFO | {"timestamp": "2025-07-11T12:27:38.515129", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:27:38,515 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:38,515 | INFO | {"timestamp": "2025-07-11T12:27:38.515467", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:27:38,515 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:38,515 | INFO | {"timestamp": "2025-07-11T12:27:38.515790", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:27:38,515 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:27:38,516 | INFO | {"timestamp": "2025-07-11T12:27:38.516114", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:27:38,516 | INFO | {"timestamp": "2025-07-11T12:27:38.516270", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:27:38,516 | INFO | All agents instantiated
2025-07-11 16:27:38,516 | INFO | {"timestamp": "2025-07-11T12:27:38.516582", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:27:38,516 | INFO | {"timestamp": "2025-07-11T12:27:38.516739", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:27:38,520 | INFO | Graph edges configured
2025-07-11 16:27:38,521 | INFO | {"timestamp": "2025-07-11T12:27:38.521083", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:27:38,521 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:27:38,521 | INFO | {"timestamp": "2025-07-11T12:27:38.521446", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:27:39,676 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:27:39,676 | INFO | {"timestamp": "2025-07-11T12:27:39.676378", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:27:39,676 | INFO | Graph compiled; starting execution
2025-07-11 16:27:39,678 | INFO | {"timestamp": "2025-07-11T12:27:39.678868", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:27:39,679 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:27:45,488 | INFO | {"timestamp": "2025-07-11T12:27:45.488778", "event_type": "company_data_extracted", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "tokens_sent": 112, "tokens_generated": 220, "cost_llm": 0.000664}}
2025-07-11 16:27:45,491 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:39.684773+00:00', 'end_time': '2025-07-11T12:27:45.489343+00:00', 'duration': 5.80457, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:27:39.684773+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:27:39.685021+00:00', 'model_end_time': '2025-07-11T12:27:45.489327+00:00', 'model_duration': 5.804306}], 'pipeline_end_time': '2025-07-11T12:27:45.489343+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:27:45,494 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:39.684773+00:00', 'end_time': '2025-07-11T12:27:45.489343+00:00', 'duration': 5.80457, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:45.491670+00:00', 'end_time': '2025-07-11T12:27:45.491847+00:00', 'duration': 0.000177, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:27:39.684773+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:27:39.685021+00:00', 'model_end_time': '2025-07-11T12:27:45.489327+00:00', 'model_duration': 5.804306}], 'pipeline_end_time': '2025-07-11T12:27:45.491847+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:28:04,134 | INFO | Event: {'Data Collection US': {'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'error_log': ['Processing initiated.'], 'messages': []}}
2025-07-11 16:28:04,193 | INFO | Event: {'Validate Collected Data': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 1.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region', 'US Data Collection', 'Validate Collected Data'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:39.684773+00:00', 'end_time': '2025-07-11T12:27:45.489343+00:00', 'duration': 5.80457, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:45.491670+00:00', 'end_time': '2025-07-11T12:27:45.491847+00:00', 'duration': 0.000177, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'US Data Collection', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:45.494642+00:00', 'end_time': '2025-07-11T12:28:04.132904+00:00', 'duration': 18.638262, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['collect_us_financial_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Validate Collected Data', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:28:04.135343+00:00', 'end_time': '2025-07-11T12:28:04.190350+00:00', 'duration': 0.055007, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['get_data_collection_tasks', 'validate_raw_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:27:39.684773+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:27:39.685021+00:00', 'model_end_time': '2025-07-11T12:27:45.489327+00:00', 'model_duration': 5.804306}, {'agent': 'US collection', 'provider': 'NA', 'model': 'NA', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}], 'pipeline_end_time': '2025-07-11T12:28:04.190350+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:28:04,194 | INFO | Event: {'Synchronize Data': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 1.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region', 'US Data Collection', 'Validate Collected Data'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:39.684773+00:00', 'end_time': '2025-07-11T12:27:45.489343+00:00', 'duration': 5.80457, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:45.491670+00:00', 'end_time': '2025-07-11T12:27:45.491847+00:00', 'duration': 0.000177, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'US Data Collection', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:27:45.494642+00:00', 'end_time': '2025-07-11T12:28:04.132904+00:00', 'duration': 18.638262, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['collect_us_financial_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Validate Collected Data', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:28:04.135343+00:00', 'end_time': '2025-07-11T12:28:04.190350+00:00', 'duration': 0.055007, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['get_data_collection_tasks', 'validate_raw_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:27:39.684773+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:27:39.685021+00:00', 'model_end_time': '2025-07-11T12:27:45.489327+00:00', 'model_duration': 5.804306}, {'agent': 'US collection', 'provider': 'NA', 'model': 'NA', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}], 'pipeline_end_time': '2025-07-11T12:28:04.190350+00:00', 'branch': 'us', 'normalized_data': {}}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:28:05,192 | ERROR | Orchestration failed: name 'get_openai_callback' is not defined
2025-07-11 16:28:05,192 | INFO | {"timestamp": "2025-07-11T12:28:05.192878", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "name 'get_openai_callback' is not defined", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 537, in summarization_node\n    resp = executor.generate(\n        [HumanMessage(content=prompt)],\n        agent_state,\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\utils\\config_utils.py\", line 394, in generate\n    with get_openai_callback() as cb:\n         ^^^^^^^^^^^^^^^^^^^\nNameError: name 'get_openai_callback' is not defined\nDuring task with name 'Summarize' and id 'f7f06623-02d2-8923-7e3b-b2dde097ed53'\n"}}
2025-07-11 16:28:05,196 | ERROR | Orchestration failed: name 'get_openai_callback' is not defined
2025-07-11 16:28:05,197 | INFO | {"timestamp": "2025-07-11T12:28:05.197136", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "name 'get_openai_callback' is not defined", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 537, in summarization_node\n    resp = executor.generate(\n        [HumanMessage(content=prompt)],\n        agent_state,\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\utils\\config_utils.py\", line 394, in generate\n    with get_openai_callback() as cb:\n         ^^^^^^^^^^^^^^^^^^^\nNameError: name 'get_openai_callback' is not defined\nDuring task with name 'Summarize' and id 'f7f06623-02d2-8923-7e3b-b2dde097ed53'\n"}}
2025-07-11 16:31:25,800 | INFO | Overrode default_provider → openai
2025-07-11 16:31:27,250 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:31:27,251 | INFO | {"timestamp": "2025-07-11T12:31:27.251147", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,251 | INFO | {"timestamp": "2025-07-11T12:31:27.251369", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,251 | INFO | {"timestamp": "2025-07-11T12:31:27.251630", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,252 | INFO | {"timestamp": "2025-07-11T12:31:27.251983", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,252 | INFO | {"timestamp": "2025-07-11T12:31:27.252263", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,252 | INFO | {"timestamp": "2025-07-11T12:31:27.252478", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,253 | INFO | {"timestamp": "2025-07-11T12:31:27.253052", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,253 | INFO | {"timestamp": "2025-07-11T12:31:27.253221", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,253 | INFO | {"timestamp": "2025-07-11T12:31:27.253455", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,253 | INFO | {"timestamp": "2025-07-11T12:31:27.253697", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,253 | INFO | {"timestamp": "2025-07-11T12:31:27.253937", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,254 | INFO | {"timestamp": "2025-07-11T12:31:27.254143", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,254 | INFO | {"timestamp": "2025-07-11T12:31:27.254360", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,254 | INFO | {"timestamp": "2025-07-11T12:31:27.254593", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:31:27,254 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:31:27,255 | INFO | {"timestamp": "2025-07-11T12:31:27.255060", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:31:27,255 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:31:27,255 | INFO | {"timestamp": "2025-07-11T12:31:27.255496", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:31:27,255 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:31:27,255 | INFO | {"timestamp": "2025-07-11T12:31:27.255887", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:31:27,256 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:31:27,256 | INFO | {"timestamp": "2025-07-11T12:31:27.256221", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:31:27,256 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:31:27,256 | INFO | {"timestamp": "2025-07-11T12:31:27.256699", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:31:27,256 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:31:27,257 | INFO | {"timestamp": "2025-07-11T12:31:27.257137", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:31:27,257 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:31:27,257 | INFO | {"timestamp": "2025-07-11T12:31:27.257603", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:31:27,257 | INFO | Injected QWEN_API_KEY
2025-07-11 16:31:27,258 | INFO | {"timestamp": "2025-07-11T12:31:27.258072", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:31:27,258 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:31:27,258 | INFO | {"timestamp": "2025-07-11T12:31:27.258486", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:31:27,258 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:31:27,258 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,259 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,259 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,259 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,259 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,259 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,260 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,260 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,260 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,260 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,260 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,260 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:31:27,261 | INFO | {"timestamp": "2025-07-11T12:31:27.261106", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:31:27,558 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:31:27,559 | INFO | {"timestamp": "2025-07-11T12:31:27.559218", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:31:27,559 | INFO | {"timestamp": "2025-07-11T12:31:27.559509", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:31:27,559 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:31:27,559 | INFO | {"timestamp": "2025-07-11T12:31:27.559974", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:31:27,560 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,560 | INFO | {"timestamp": "2025-07-11T12:31:27.560393", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:31:27,560 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,560 | INFO | {"timestamp": "2025-07-11T12:31:27.560786", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:31:27,561 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,561 | INFO | {"timestamp": "2025-07-11T12:31:27.561178", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:31:27,561 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,561 | INFO | {"timestamp": "2025-07-11T12:31:27.561604", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:31:27,562 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,562 | INFO | {"timestamp": "2025-07-11T12:31:27.562375", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:31:27,562 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:31:27,563 | INFO | {"timestamp": "2025-07-11T12:31:27.563053", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:31:27,563 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,563 | INFO | {"timestamp": "2025-07-11T12:31:27.563678", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:31:27,564 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,564 | INFO | {"timestamp": "2025-07-11T12:31:27.564243", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:31:27,564 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,564 | INFO | {"timestamp": "2025-07-11T12:31:27.564644", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:31:27,564 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,565 | INFO | {"timestamp": "2025-07-11T12:31:27.565053", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:31:27,565 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:31:27,565 | INFO | {"timestamp": "2025-07-11T12:31:27.565440", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:31:27,565 | INFO | {"timestamp": "2025-07-11T12:31:27.565641", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:31:27,565 | INFO | All agents instantiated
2025-07-11 16:31:27,566 | INFO | {"timestamp": "2025-07-11T12:31:27.566049", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:31:27,566 | INFO | {"timestamp": "2025-07-11T12:31:27.566238", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:31:27,569 | INFO | Graph edges configured
2025-07-11 16:31:27,569 | INFO | {"timestamp": "2025-07-11T12:31:27.569562", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:31:27,569 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:31:27,569 | INFO | {"timestamp": "2025-07-11T12:31:27.569924", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:31:28,671 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:31:28,672 | INFO | {"timestamp": "2025-07-11T12:31:28.672357", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:31:28,672 | INFO | Graph compiled; starting execution
2025-07-11 16:31:28,676 | INFO | {"timestamp": "2025-07-11T12:31:28.676789", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:31:28,677 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:31:44,990 | INFO | {"timestamp": "2025-07-11T12:31:44.990502", "event_type": "company_data_error", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "error": "Expecting value: line 1 column 1 (char 0)"}}
2025-07-11 16:31:44,993 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:31:28.682608+00:00', 'end_time': '2025-07-11T12:31:44.990906+00:00', 'duration': 16.308298, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:31:28.682608+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:31:28.683089+00:00', 'model_end_time': '2025-07-11T12:31:44.990892+00:00', 'model_duration': 16.307803}], 'pipeline_end_time': '2025-07-11T12:31:44.990906+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Error during LLM data extraction: Expecting value: line 1 column 1 (char 0)'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:31:44,996 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'jpmorgan', 'year': '2024', 'company_details': None, 'region': None, 'filing_date': None, 'sec_report_address': None, 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:31:28.682608+00:00', 'end_time': '2025-07-11T12:31:44.990906+00:00', 'duration': 16.308298, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:31:44.993588+00:00', 'end_time': '2025-07-11T12:31:44.993794+00:00', 'duration': 0.000206, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:31:28.682608+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0, 'model_start_time': '2025-07-11T12:31:28.683089+00:00', 'model_end_time': '2025-07-11T12:31:44.990892+00:00', 'model_duration': 16.307803}], 'pipeline_end_time': '2025-07-11T12:31:44.993794+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Error during LLM data extraction: Expecting value: line 1 column 1 (char 0)'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:31:44,998 | INFO | Event: {'Data Collection US': {'error_log': ['Error during LLM data extraction: Expecting value: line 1 column 1 (char 0)', "Critical error in Data Collection US Node: 'NoneType' object has no attribute 'get'"]}}
2025-07-11 16:31:45,005 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:31:45,005 | INFO | {"timestamp": "2025-07-11T12:31:45.005901", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id '10b1163f-4614-4a18-a7b7-c445ac1ceb44'\n"}}
2025-07-11 16:31:45,011 | ERROR | Orchestration failed: 'NoneType' object has no attribute 'lower'
2025-07-11 16:31:45,011 | INFO | {"timestamp": "2025-07-11T12:31:45.011537", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "'NoneType' object has no attribute 'lower'", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 412, in validate_collected_data_node\n    tasks = agent_state.get_data_collection_tasks()\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\state_types.py\", line 227, in get_data_collection_tasks\n    region_lower = self.region.lower() # Ensure comparison is case-insensitive\n                   ^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'lower'\nDuring task with name 'Validate Collected Data' and id '10b1163f-4614-4a18-a7b7-c445ac1ceb44'\n"}}
2025-07-11 16:34:26,537 | INFO | Overrode default_provider → openai
2025-07-11 16:34:28,618 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:34:28,618 | INFO | {"timestamp": "2025-07-11T12:34:28.618806", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,619 | INFO | {"timestamp": "2025-07-11T12:34:28.619063", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,619 | INFO | {"timestamp": "2025-07-11T12:34:28.619471", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,619 | INFO | {"timestamp": "2025-07-11T12:34:28.619861", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,620 | INFO | {"timestamp": "2025-07-11T12:34:28.620136", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,620 | INFO | {"timestamp": "2025-07-11T12:34:28.620639", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,621 | INFO | {"timestamp": "2025-07-11T12:34:28.621395", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,621 | INFO | {"timestamp": "2025-07-11T12:34:28.621691", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,622 | INFO | {"timestamp": "2025-07-11T12:34:28.622030", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,622 | INFO | {"timestamp": "2025-07-11T12:34:28.622288", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,622 | INFO | {"timestamp": "2025-07-11T12:34:28.622553", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,622 | INFO | {"timestamp": "2025-07-11T12:34:28.622822", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,623 | INFO | {"timestamp": "2025-07-11T12:34:28.623078", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,623 | INFO | {"timestamp": "2025-07-11T12:34:28.623351", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:34:28,623 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:34:28,623 | INFO | {"timestamp": "2025-07-11T12:34:28.623890", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:34:28,624 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:34:28,624 | INFO | {"timestamp": "2025-07-11T12:34:28.624403", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:34:28,624 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:34:28,624 | INFO | {"timestamp": "2025-07-11T12:34:28.624921", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:34:28,625 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:34:28,625 | INFO | {"timestamp": "2025-07-11T12:34:28.625470", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:34:28,625 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:34:28,626 | INFO | {"timestamp": "2025-07-11T12:34:28.626204", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:34:28,626 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:34:28,626 | INFO | {"timestamp": "2025-07-11T12:34:28.626879", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:34:28,627 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:34:28,627 | INFO | {"timestamp": "2025-07-11T12:34:28.627577", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:34:28,627 | INFO | Injected QWEN_API_KEY
2025-07-11 16:34:28,628 | INFO | {"timestamp": "2025-07-11T12:34:28.628067", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:34:28,628 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:34:28,628 | INFO | {"timestamp": "2025-07-11T12:34:28.628617", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:34:28,629 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:34:28,629 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,629 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,629 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,630 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,630 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,630 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,630 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,631 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,631 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,631 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,632 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,632 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:34:28,632 | INFO | {"timestamp": "2025-07-11T12:34:28.632509", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:34:28,908 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:34:28,908 | INFO | {"timestamp": "2025-07-11T12:34:28.908460", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:34:28,908 | INFO | {"timestamp": "2025-07-11T12:34:28.908721", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:34:28,909 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:34:28,909 | INFO | {"timestamp": "2025-07-11T12:34:28.909270", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:34:28,909 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,909 | INFO | {"timestamp": "2025-07-11T12:34:28.909815", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:34:28,910 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,910 | INFO | {"timestamp": "2025-07-11T12:34:28.910306", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:34:28,910 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,910 | INFO | {"timestamp": "2025-07-11T12:34:28.910783", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:34:28,911 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,911 | INFO | {"timestamp": "2025-07-11T12:34:28.911327", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:34:28,911 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,911 | INFO | {"timestamp": "2025-07-11T12:34:28.911872", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:34:28,912 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:34:28,912 | INFO | {"timestamp": "2025-07-11T12:34:28.912430", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:34:28,912 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,913 | INFO | {"timestamp": "2025-07-11T12:34:28.913020", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:34:28,913 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,913 | INFO | {"timestamp": "2025-07-11T12:34:28.913560", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:34:28,913 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,914 | INFO | {"timestamp": "2025-07-11T12:34:28.914051", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:34:28,914 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,914 | INFO | {"timestamp": "2025-07-11T12:34:28.914570", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:34:28,914 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:34:28,915 | INFO | {"timestamp": "2025-07-11T12:34:28.915094", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:34:28,915 | INFO | {"timestamp": "2025-07-11T12:34:28.915306", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:34:28,915 | INFO | All agents instantiated
2025-07-11 16:34:28,915 | INFO | {"timestamp": "2025-07-11T12:34:28.915796", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:34:28,916 | INFO | {"timestamp": "2025-07-11T12:34:28.916056", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:34:28,921 | INFO | Graph edges configured
2025-07-11 16:34:28,922 | INFO | {"timestamp": "2025-07-11T12:34:28.922234", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:34:28,922 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:34:28,922 | INFO | {"timestamp": "2025-07-11T12:34:28.922744", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:34:30,237 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:34:30,239 | INFO | {"timestamp": "2025-07-11T12:34:30.239013", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:34:30,240 | INFO | Graph compiled; starting execution
2025-07-11 16:34:30,250 | INFO | {"timestamp": "2025-07-11T12:34:30.249948", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:34:30,251 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:34:36,718 | INFO | {"timestamp": "2025-07-11T12:34:36.717989", "event_type": "company_data_extracted", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "tokens_sent": 112, "tokens_generated": 222, "cost_llm": 0.0006680000000000001}}
2025-07-11 16:34:36,720 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'North America', 'filing_date for 2024': 'April 2025', 'currency': 'USD', 'current share price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'North America', 'filing_date': None, 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:34:30.261593+00:00', 'end_time': '2025-07-11T12:34:36.718398+00:00', 'duration': 6.456805, 'cost_llm': 0.0006680000000000001, 'tokens_sent': 112, 'tokens_generated': 222, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:34:30.261593+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 222, 'cost_llm': 0.0006680000000000001, 'model_start_time': '2025-07-11T12:34:30.262416+00:00', 'model_end_time': '2025-07-11T12:34:36.718383+00:00', 'model_duration': 6.455967}], 'pipeline_end_time': '2025-07-11T12:34:36.718398+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:34:36,722 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'North America', 'filing_date for 2024': 'April 2025', 'currency': 'USD', 'current share price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'North America', 'filing_date': None, 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:34:30.261593+00:00', 'end_time': '2025-07-11T12:34:36.718398+00:00', 'duration': 6.456805, 'cost_llm': 0.0006680000000000001, 'tokens_sent': 112, 'tokens_generated': 222, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:34:36.721054+00:00', 'end_time': '2025-07-11T12:34:36.721307+00:00', 'duration': 0.000253, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:34:30.261593+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 222, 'cost_llm': 0.0006680000000000001, 'model_start_time': '2025-07-11T12:34:30.262416+00:00', 'model_end_time': '2025-07-11T12:34:36.718383+00:00', 'model_duration': 6.455967}], 'pipeline_end_time': '2025-07-11T12:34:36.721307+00:00', 'branch': 'end'}, 'audit_notes': [], 'llm_decision': 'end', 'termination_reason': 'Unsupported region', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.', 'Unsupported region: North America'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:34:36,723 | INFO | Orchestration terminated early: Unsupported region
2025-07-11 16:34:36,723 | INFO | {"timestamp": "2025-07-11T12:34:36.723369", "event_type": "orchestration_completed", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "status": "terminated_early", "reason": "Unsupported region"}}
2025-07-11 16:34:36,727 | INFO | Saved pipeline node metrics to report\jpmorgan_2024_openai\pipeline_metrics.json
2025-07-11 16:37:51,870 | INFO | Overrode default_provider → openai
2025-07-11 16:37:53,724 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:37:53,724 | INFO | {"timestamp": "2025-07-11T12:37:53.724597", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,724 | INFO | {"timestamp": "2025-07-11T12:37:53.724824", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,725 | INFO | {"timestamp": "2025-07-11T12:37:53.725049", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,725 | INFO | {"timestamp": "2025-07-11T12:37:53.725369", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,725 | INFO | {"timestamp": "2025-07-11T12:37:53.725572", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,725 | INFO | {"timestamp": "2025-07-11T12:37:53.725806", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,726 | INFO | {"timestamp": "2025-07-11T12:37:53.726393", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,726 | INFO | {"timestamp": "2025-07-11T12:37:53.726641", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,726 | INFO | {"timestamp": "2025-07-11T12:37:53.726889", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,727 | INFO | {"timestamp": "2025-07-11T12:37:53.727102", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,727 | INFO | {"timestamp": "2025-07-11T12:37:53.727318", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,727 | INFO | {"timestamp": "2025-07-11T12:37:53.727494", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,727 | INFO | {"timestamp": "2025-07-11T12:37:53.727703", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,727 | INFO | {"timestamp": "2025-07-11T12:37:53.727882", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:37:53,728 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:37:53,728 | INFO | {"timestamp": "2025-07-11T12:37:53.728218", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:37:53,728 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:37:53,728 | INFO | {"timestamp": "2025-07-11T12:37:53.728612", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:37:53,728 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:37:53,729 | INFO | {"timestamp": "2025-07-11T12:37:53.729038", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:37:53,729 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:37:53,729 | INFO | {"timestamp": "2025-07-11T12:37:53.729414", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:37:53,729 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:37:53,729 | INFO | {"timestamp": "2025-07-11T12:37:53.729815", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:37:53,730 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:37:53,730 | INFO | {"timestamp": "2025-07-11T12:37:53.730282", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:37:53,730 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:37:53,730 | INFO | {"timestamp": "2025-07-11T12:37:53.730663", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:37:53,730 | INFO | Injected QWEN_API_KEY
2025-07-11 16:37:53,731 | INFO | {"timestamp": "2025-07-11T12:37:53.731027", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:37:53,731 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:37:53,731 | INFO | {"timestamp": "2025-07-11T12:37:53.731375", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:37:53,731 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:37:53,731 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:53,732 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:53,732 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:53,732 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:53,732 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:53,732 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:53,733 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:53,733 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:53,733 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:53,733 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:53,734 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:53,734 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:37:53,734 | INFO | {"timestamp": "2025-07-11T12:37:53.734503", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:37:54,042 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:37:54,043 | INFO | {"timestamp": "2025-07-11T12:37:54.043131", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:37:54,043 | INFO | {"timestamp": "2025-07-11T12:37:54.043413", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:37:54,043 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:37:54,044 | INFO | {"timestamp": "2025-07-11T12:37:54.043979", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:37:54,044 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:54,044 | INFO | {"timestamp": "2025-07-11T12:37:54.044437", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:37:54,044 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:54,044 | INFO | {"timestamp": "2025-07-11T12:37:54.044808", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:37:54,045 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:54,045 | INFO | {"timestamp": "2025-07-11T12:37:54.045171", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:37:54,045 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:54,045 | INFO | {"timestamp": "2025-07-11T12:37:54.045587", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:37:54,045 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:54,045 | INFO | {"timestamp": "2025-07-11T12:37:54.045964", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:37:54,046 | INFO | Injected env for agent 'summarizer' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:37:54,046 | INFO | {"timestamp": "2025-07-11T12:37:54.046404", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:37:54,046 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:54,047 | INFO | {"timestamp": "2025-07-11T12:37:54.046962", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:37:54,047 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:54,047 | INFO | {"timestamp": "2025-07-11T12:37:54.047652", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:37:54,047 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:54,048 | INFO | {"timestamp": "2025-07-11T12:37:54.048056", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:37:54,048 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:54,048 | INFO | {"timestamp": "2025-07-11T12:37:54.048508", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:37:54,048 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:37:54,049 | INFO | {"timestamp": "2025-07-11T12:37:54.049064", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:37:54,049 | INFO | {"timestamp": "2025-07-11T12:37:54.049327", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:37:54,049 | INFO | All agents instantiated
2025-07-11 16:37:54,049 | INFO | {"timestamp": "2025-07-11T12:37:54.049883", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:37:54,050 | INFO | {"timestamp": "2025-07-11T12:37:54.050079", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:37:54,056 | INFO | Graph edges configured
2025-07-11 16:37:54,057 | INFO | {"timestamp": "2025-07-11T12:37:54.057220", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:37:54,057 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:37:54,057 | INFO | {"timestamp": "2025-07-11T12:37:54.057645", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:37:55,180 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:37:55,180 | INFO | {"timestamp": "2025-07-11T12:37:55.180564", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:37:55,180 | INFO | Graph compiled; starting execution
2025-07-11 16:37:55,184 | INFO | {"timestamp": "2025-07-11T12:37:55.184308", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:37:55,184 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:38:01,987 | INFO | {"timestamp": "2025-07-11T12:38:01.987579", "event_type": "company_data_extracted", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "tokens_sent": 112, "tokens_generated": 220, "cost_llm": 0.000664}}
2025-07-11 16:38:01,990 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:37:55.189130+00:00', 'end_time': '2025-07-11T12:38:01.988092+00:00', 'duration': 6.798962, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:37:55.189130+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:37:55.189277+00:00', 'model_end_time': '2025-07-11T12:38:01.988078+00:00', 'model_duration': 6.798801}], 'pipeline_end_time': '2025-07-11T12:38:01.988092+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:38:01,993 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:37:55.189130+00:00', 'end_time': '2025-07-11T12:38:01.988092+00:00', 'duration': 6.798962, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:38:01.990488+00:00', 'end_time': '2025-07-11T12:38:01.990704+00:00', 'duration': 0.000216, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:37:55.189130+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:37:55.189277+00:00', 'model_end_time': '2025-07-11T12:38:01.988078+00:00', 'model_duration': 6.798801}], 'pipeline_end_time': '2025-07-11T12:38:01.990704+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:38:21,305 | INFO | Event: {'Data Collection US': {'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'error_log': ['Processing initiated.'], 'messages': []}}
2025-07-11 16:38:21,359 | INFO | Event: {'Validate Collected Data': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 1.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region', 'US Data Collection', 'Validate Collected Data'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:37:55.189130+00:00', 'end_time': '2025-07-11T12:38:01.988092+00:00', 'duration': 6.798962, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:38:01.990488+00:00', 'end_time': '2025-07-11T12:38:01.990704+00:00', 'duration': 0.000216, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'US Data Collection', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:38:01.994128+00:00', 'end_time': '2025-07-11T12:38:21.303188+00:00', 'duration': 19.30906, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['collect_us_financial_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Validate Collected Data', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:38:21.306075+00:00', 'end_time': '2025-07-11T12:38:21.355602+00:00', 'duration': 0.049527, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['get_data_collection_tasks', 'validate_raw_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:37:55.189130+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:37:55.189277+00:00', 'model_end_time': '2025-07-11T12:38:01.988078+00:00', 'model_duration': 6.798801}, {'agent': 'US collection', 'provider': 'NA', 'model': 'NA', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}], 'pipeline_end_time': '2025-07-11T12:38:21.355602+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:38:21,362 | INFO | Event: {'Synchronize Data': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Financial Services', 'stock_market_names': ['New York Stock Exchange'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date': '2024-12-31', 'currency': 'USD', 'current_share_price': 288.19, 'peers': ['Bank of America Corporation', 'Citigroup Inc.', 'Wells Fargo & Company', 'Goldman Sachs Group, Inc.', 'Morgan Stanley']}, 'region': 'United States', 'filing_date': '2024-12-31', 'sec_report_address': '383 Madison Avenue, New York, New York 10179', 'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 1.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region', 'US Data Collection', 'Validate Collected Data'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:37:55.189130+00:00', 'end_time': '2025-07-11T12:38:01.988092+00:00', 'duration': 6.798962, 'cost_llm': 0.000664, 'tokens_sent': 112, 'tokens_generated': 220, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:38:01.990488+00:00', 'end_time': '2025-07-11T12:38:01.990704+00:00', 'duration': 0.000216, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'US Data Collection', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:38:01.994128+00:00', 'end_time': '2025-07-11T12:38:21.303188+00:00', 'duration': 19.30906, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['collect_us_financial_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Validate Collected Data', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:38:21.306075+00:00', 'end_time': '2025-07-11T12:38:21.355602+00:00', 'duration': 0.049527, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['get_data_collection_tasks', 'validate_raw_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:37:55.189130+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 220, 'cost_llm': 0.000664, 'model_start_time': '2025-07-11T12:37:55.189277+00:00', 'model_end_time': '2025-07-11T12:38:01.988078+00:00', 'model_duration': 6.798801}, {'agent': 'US collection', 'provider': 'NA', 'model': 'NA', 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}], 'pipeline_end_time': '2025-07-11T12:38:21.355602+00:00', 'branch': 'us', 'normalized_data': {}}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:38:23,908 | ERROR | Orchestration failed: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4.1-nano-2025-04-14`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-07-11 16:38:23,909 | INFO | {"timestamp": "2025-07-11T12:38:23.908964", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4.1-nano-2025-04-14`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 537, in summarization_node\n    resp = executor.generate(\n        [HumanMessage(content=prompt)],\n        agent_state,\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\utils\\config_utils.py\", line 396, in generate\n    response = self.llm.invoke(messages)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 378, in invoke\n    self.generate_prompt(\n    ~~~~~~~~~~~~~~~~~~~~^\n        [self._convert_input(input)],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ).generations[0][0],\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 963, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 782, in generate\n    self._generate_with_cache(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        m,\n        ^^\n    ...<2 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 1028, in _generate_with_cache\n    result = self._generate(\n        messages, stop=stop, run_manager=run_manager, **kwargs\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 476, in _generate\n    response = self.completion_with_retry(\n        messages=message_dicts, run_manager=run_manager, **params\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 387, in completion_with_retry\n    return self.client.create(**kwargs)\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_utils\\_utils.py\", line 287, in wrapper\n    return func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\resources\\chat\\completions\\completions.py\", line 1087, in create\n    return self._post(\n           ~~~~~~~~~~^\n        \"/chat/completions\",\n        ^^^^^^^^^^^^^^^^^^^^\n    ...<43 lines>...\n        stream_cls=Stream[ChatCompletionChunk],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1249, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1037, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.PermissionDeniedError: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4.1-nano-2025-04-14`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}\nDuring task with name 'Summarize' and id '3af723a8-da5c-8aae-fc25-9d2b4f5e2411'\n"}}
2025-07-11 16:38:23,917 | ERROR | Orchestration failed: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4.1-nano-2025-04-14`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-07-11 16:38:23,918 | INFO | {"timestamp": "2025-07-11T12:38:23.918296", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4.1-nano-2025-04-14`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 537, in summarization_node\n    resp = executor.generate(\n        [HumanMessage(content=prompt)],\n        agent_state,\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\utils\\config_utils.py\", line 396, in generate\n    response = self.llm.invoke(messages)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 378, in invoke\n    self.generate_prompt(\n    ~~~~~~~~~~~~~~~~~~~~^\n        [self._convert_input(input)],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ).generations[0][0],\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 963, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 782, in generate\n    self._generate_with_cache(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        m,\n        ^^\n    ...<2 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 1028, in _generate_with_cache\n    result = self._generate(\n        messages, stop=stop, run_manager=run_manager, **kwargs\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 476, in _generate\n    response = self.completion_with_retry(\n        messages=message_dicts, run_manager=run_manager, **params\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 387, in completion_with_retry\n    return self.client.create(**kwargs)\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_utils\\_utils.py\", line 287, in wrapper\n    return func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\resources\\chat\\completions\\completions.py\", line 1087, in create\n    return self._post(\n           ~~~~~~~~~~^\n        \"/chat/completions\",\n        ^^^^^^^^^^^^^^^^^^^^\n    ...<43 lines>...\n        stream_cls=Stream[ChatCompletionChunk],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1249, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1037, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.PermissionDeniedError: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4.1-nano-2025-04-14`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}\nDuring task with name 'Summarize' and id '3af723a8-da5c-8aae-fc25-9d2b4f5e2411'\n"}}
2025-07-11 16:44:39,827 | INFO | Overrode default_provider → openai
2025-07-11 16:44:41,417 | INFO | Loaded pricing for 90 Together models
2025-07-11 16:44:41,418 | INFO | {"timestamp": "2025-07-11T12:44:41.418194", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,418 | INFO | {"timestamp": "2025-07-11T12:44:41.418510", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4.1-nano-2025-04-14", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,418 | INFO | {"timestamp": "2025-07-11T12:44:41.418787", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-2024-07-18", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,419 | INFO | {"timestamp": "2025-07-11T12:44:41.419091", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "openai", "model": "gpt-4o-mini-search-preview", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,419 | INFO | {"timestamp": "2025-07-11T12:44:41.419569", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mixtral-8x7B-Instruct-v0.1", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,419 | INFO | {"timestamp": "2025-07-11T12:44:41.419880", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Mistral-7B-Instruct-v0.2", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,420 | INFO | {"timestamp": "2025-07-11T12:44:41.420165", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "mixtral", "model": "Nous-Hermes-2-Mixtral-8x7B-DPO", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,420 | INFO | {"timestamp": "2025-07-11T12:44:41.420827", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,421 | INFO | {"timestamp": "2025-07-11T12:44:41.421110", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 7B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,421 | INFO | {"timestamp": "2025-07-11T12:44:41.421430", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 32B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,421 | INFO | {"timestamp": "2025-07-11T12:44:41.421638", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 3B Instruct", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,422 | INFO | {"timestamp": "2025-07-11T12:44:41.422007", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 32B", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,422 | INFO | {"timestamp": "2025-07-11T12:44:41.422299", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 14B", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,422 | INFO | {"timestamp": "2025-07-11T12:44:41.422667", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen2.5 72B Instruct Turbo", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,422 | INFO | {"timestamp": "2025-07-11T12:44:41.422957", "event_type": "model_pricing_set", "session_id": "global", "payload": {"provider": "qwen", "model": "Qwen3 235B A22B", "input": 0.0, "output": 0.0}}
2025-07-11 16:44:41,423 | INFO | Injected API key: FMP_API_KEY
2025-07-11 16:44:41,423 | INFO | {"timestamp": "2025-07-11T12:44:41.423473", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "FMP_API_KEY"}}
2025-07-11 16:44:41,423 | INFO | Injected API key: SEC_API_KEY
2025-07-11 16:44:41,423 | INFO | {"timestamp": "2025-07-11T12:44:41.423937", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "SEC_API_KEY"}}
2025-07-11 16:44:41,424 | INFO | Injected API key: INDIAN_API_KEY
2025-07-11 16:44:41,424 | INFO | {"timestamp": "2025-07-11T12:44:41.424489", "event_type": "api_key_injected", "session_id": "global", "payload": {"key": "INDIAN_API_KEY"}}
2025-07-11 16:44:41,424 | INFO | Injected OPENAI_API_KEY
2025-07-11 16:44:41,425 | INFO | {"timestamp": "2025-07-11T12:44:41.424976", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "OPENAI_API_KEY"}}
2025-07-11 16:44:41,425 | INFO | Injected OPENAI_BASE_URL
2025-07-11 16:44:41,425 | INFO | {"timestamp": "2025-07-11T12:44:41.425397", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "OPENAI_BASE_URL"}}
2025-07-11 16:44:41,425 | INFO | Injected MIXTRAL_API_KEY
2025-07-11 16:44:41,425 | INFO | {"timestamp": "2025-07-11T12:44:41.425900", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_API_KEY"}}
2025-07-11 16:44:41,426 | INFO | Injected MIXTRAL_BASE_URL
2025-07-11 16:44:41,426 | INFO | {"timestamp": "2025-07-11T12:44:41.426379", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "MIXTRAL_BASE_URL"}}
2025-07-11 16:44:41,426 | INFO | Injected QWEN_API_KEY
2025-07-11 16:44:41,426 | INFO | {"timestamp": "2025-07-11T12:44:41.426885", "event_type": "provider_api_key_injected", "session_id": "global", "payload": {"env_var": "QWEN_API_KEY"}}
2025-07-11 16:44:41,427 | INFO | Injected QWEN_BASE_URL
2025-07-11 16:44:41,427 | INFO | {"timestamp": "2025-07-11T12:44:41.427324", "event_type": "provider_base_url_injected", "session_id": "global", "payload": {"env_var": "QWEN_BASE_URL"}}
2025-07-11 16:44:41,427 | INFO | Env preloaded for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:44:41,427 | INFO | Env preloaded for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:44:41,428 | INFO | Env preloaded for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:44:41,428 | INFO | Env preloaded for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:44:41,428 | INFO | Env preloaded for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,428 | INFO | Env preloaded for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,428 | INFO | Env preloaded for agent 'summarizer' → model 'gpt-4o-mini-2024-07-18'
2025-07-11 16:44:41,429 | INFO | Env preloaded for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,429 | INFO | Env preloaded for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,429 | INFO | Env preloaded for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,429 | INFO | Env preloaded for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,430 | INFO | Env preloaded for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,430 | INFO | Starting orchestration for jpmorgan (2024)
2025-07-11 16:44:41,430 | INFO | {"timestamp": "2025-07-11T12:44:41.430503", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "config": "langgraph_config.json", "provider": "openai", "llm_models": "{}", "verbose": false}}
2025-07-11 16:44:41,726 | INFO | Orchestration start → jpmorgan (2024), report_type=kpi_bullet_insights, verbose=False
2025-07-11 16:44:41,726 | INFO | {"timestamp": "2025-07-11T12:44:41.726252", "event_type": "orchestration_start", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "report_type": "kpi_bullet_insights", "verbose": false}}
2025-07-11 16:44:41,726 | INFO | {"timestamp": "2025-07-11T12:44:41.726459", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up APIs"}}
2025-07-11 16:44:41,726 | INFO | Injected env for agent 'resolve_company' → model 'gpt-4o-mini-search-preview'
2025-07-11 16:44:41,726 | INFO | {"timestamp": "2025-07-11T12:44:41.726887", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "resolve_company", "model": "gpt-4o-mini-search-preview"}}
2025-07-11 16:44:41,727 | INFO | Injected env for agent 'llm_decision' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:44:41,727 | INFO | {"timestamp": "2025-07-11T12:44:41.727302", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "llm_decision", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:44:41,727 | INFO | Injected env for agent 'data_collection_us' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:44:41,727 | INFO | {"timestamp": "2025-07-11T12:44:41.727726", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_us", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:44:41,727 | INFO | Injected env for agent 'data_collection_indian' → model 'gpt-4.1-nano-2025-04-14'
2025-07-11 16:44:41,728 | INFO | {"timestamp": "2025-07-11T12:44:41.728209", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "data_collection_indian", "model": "gpt-4.1-nano-2025-04-14"}}
2025-07-11 16:44:41,728 | INFO | Injected env for agent 'validate_collected_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,728 | INFO | {"timestamp": "2025-07-11T12:44:41.728702", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_collected_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:44:41,729 | INFO | Injected env for agent 'synchronize_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,729 | INFO | {"timestamp": "2025-07-11T12:44:41.729172", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "synchronize_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:44:41,729 | INFO | Injected env for agent 'summarizer' → model 'gpt-4o-mini-2024-07-18'
2025-07-11 16:44:41,729 | INFO | {"timestamp": "2025-07-11T12:44:41.729581", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "summarizer", "model": "gpt-4o-mini-2024-07-18"}}
2025-07-11 16:44:41,729 | INFO | Injected env for agent 'validate_summarized_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,729 | INFO | {"timestamp": "2025-07-11T12:44:41.729951", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_summarized_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:44:41,730 | INFO | Injected env for agent 'concept' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,730 | INFO | {"timestamp": "2025-07-11T12:44:41.730370", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "concept", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:44:41,730 | INFO | Injected env for agent 'validate_analyzed_data' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,730 | INFO | {"timestamp": "2025-07-11T12:44:41.730796", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "validate_analyzed_data", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:44:41,731 | INFO | Injected env for agent 'thesis' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,731 | INFO | {"timestamp": "2025-07-11T12:44:41.731197", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "thesis", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:44:41,731 | INFO | Injected env for agent 'audit' → model 'gpt-4.1-2025-04-14'
2025-07-11 16:44:41,731 | INFO | {"timestamp": "2025-07-11T12:44:41.731602", "event_type": "model_env_injected", "session_id": "global", "payload": {"agent": "audit", "model": "gpt-4.1-2025-04-14"}}
2025-07-11 16:44:41,731 | INFO | {"timestamp": "2025-07-11T12:44:41.731789", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Agents"}}
2025-07-11 16:44:41,731 | INFO | All agents instantiated
2025-07-11 16:44:41,732 | INFO | {"timestamp": "2025-07-11T12:44:41.732145", "event_type": "agents_ready", "session_id": "global", "payload": {"agents": ["resolve_company", "llm_decision", "data_collection_us", "data_collection_indian", "validate_collected_data", "synchronize_data", "summarizer", "validate_summarized_data", "concept", "validate_analyzed_data", "thesis", "audit"]}}
2025-07-11 16:44:41,732 | INFO | {"timestamp": "2025-07-11T12:44:41.732331", "event_type": "setup_progress", "session_id": "global", "payload": {"step": "Setting up Tools"}}
2025-07-11 16:44:41,738 | INFO | Graph edges configured
2025-07-11 16:44:41,738 | INFO | {"timestamp": "2025-07-11T12:44:41.738364", "event_type": "graph_edges_configured", "session_id": "global", "payload": {}}
2025-07-11 16:44:41,738 | INFO | Workdir prepared at report\jpmorgan_2024_openai
2025-07-11 16:44:41,738 | INFO | {"timestamp": "2025-07-11T12:44:41.738759", "event_type": "initial_state_ready", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "work_dir": "report\\jpmorgan_2024_openai"}}
2025-07-11 16:44:42,950 | INFO | Saved orchestration graph to report\jpmorgan_2024_openai\orchestration_graph.png
2025-07-11 16:44:42,950 | INFO | {"timestamp": "2025-07-11T12:44:42.950546", "event_type": "graph_png_saved", "session_id": "global", "payload": {"path": "report\\jpmorgan_2024_openai\\orchestration_graph.png"}}
2025-07-11 16:44:42,950 | INFO | Graph compiled; starting execution
2025-07-11 16:44:42,953 | INFO | {"timestamp": "2025-07-11T12:44:42.953630", "event_type": "graph_definition", "session_id": "global", "payload": {"mermaid_syntax": "---\nconfig:\n  flowchart:\n    curve: linear\n---\ngraph TD;\n\t__start__([__start__]):::first\n\tResolve_Company(Resolve Company)\n\tBranch_Decision(Branch Decision)\n\tData_Collection_US(Data Collection US)\n\tData_Collection_India(Data Collection India)\n\tValidate_Collected_Data(Validate Collected Data)\n\tSynchronize_Data(Synchronize Data)\n\tSummarize(Summarize)\n\tValidate_Summaries(Validate Summaries)\n\tConceptual_Analysis(Conceptual Analysis)\n\tValidate_Analyzed_Data(Validate Analyzed Data)\n\tGenerate_Report(Generate Report)\n\tRun_Evaluation(Run Evaluation)\n\t__end__([__end__]):::last\n\tBranch_Decision -. &nbsp;india&nbsp; .-> Data_Collection_India;\n\tBranch_Decision -. &nbsp;us&nbsp; .-> Data_Collection_US;\n\tBranch_Decision -. &nbsp;end&nbsp; .-> __end__;\n\tConceptual_Analysis --> Validate_Analyzed_Data;\n\tData_Collection_India --> Validate_Collected_Data;\n\tData_Collection_US --> Validate_Collected_Data;\n\tGenerate_Report --> Run_Evaluation;\n\tResolve_Company --> Branch_Decision;\n\tSummarize --> Validate_Summaries;\n\tSynchronize_Data --> Summarize;\n\tValidate_Analyzed_Data -. &nbsp;continue&nbsp; .-> Generate_Report;\n\tValidate_Analyzed_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Collected_Data -. &nbsp;continue&nbsp; .-> Synchronize_Data;\n\tValidate_Collected_Data -. &nbsp;end&nbsp; .-> __end__;\n\tValidate_Summaries -. &nbsp;continue&nbsp; .-> Conceptual_Analysis;\n\tValidate_Summaries -. &nbsp;end&nbsp; .-> __end__;\n\t__start__ --> Resolve_Company;\n\tRun_Evaluation --> __end__;\n\tclassDef default fill:#f2f0ff,line-height:1.2\n\tclassDef first fill-opacity:0\n\tclassDef last fill:#bfb6fc\n"}}
2025-07-11 16:44:42,954 | INFO | Sent Mermaid graph definition to frontend.
2025-07-11 16:44:49,118 | INFO | {"timestamp": "2025-07-11T12:44:49.117951", "event_type": "company_data_extracted", "session_id": "global", "payload": {"company": "jpmorgan", "year": "2024", "tokens_sent": 112, "tokens_generated": 314, "cost_llm": 0.000852}}
2025-07-11 16:44:49,124 | INFO | Event: {'Resolve Company': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Banks - Diversified', 'stock_market_names': ['NYSE: JPM'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date_for_2024': 'February 14, 2025', 'currency': 'USD', 'current_share_price': 288.19, 'peers': [{'ticker': 'BAC', 'company_name': 'Bank of America Corp'}, {'ticker': 'WFC', 'company_name': 'Wells Fargo & Co'}, {'ticker': 'HSBC', 'company_name': 'HSBC Holdings PLC'}, {'ticker': 'C', 'company_name': 'Citigroup Inc'}, {'ticker': 'GS', 'company_name': 'Goldman Sachs Group Inc'}]}, 'region': 'United States', 'filing_date': None, 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:42.957489+00:00', 'end_time': '2025-07-11T12:44:49.118922+00:00', 'duration': 6.161433, 'cost_llm': 0.000852, 'tokens_sent': 112, 'tokens_generated': 314, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:44:42.957489+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 314, 'cost_llm': 0.000852, 'model_start_time': '2025-07-11T12:44:42.957845+00:00', 'model_end_time': '2025-07-11T12:44:49.118881+00:00', 'model_duration': 6.161036}], 'pipeline_end_time': '2025-07-11T12:44:49.118922+00:00'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:44:49,130 | INFO | Event: {'Branch Decision': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Banks - Diversified', 'stock_market_names': ['NYSE: JPM'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date_for_2024': 'February 14, 2025', 'currency': 'USD', 'current_share_price': 288.19, 'peers': [{'ticker': 'BAC', 'company_name': 'Bank of America Corp'}, {'ticker': 'WFC', 'company_name': 'Wells Fargo & Co'}, {'ticker': 'HSBC', 'company_name': 'HSBC Holdings PLC'}, {'ticker': 'C', 'company_name': 'Citigroup Inc'}, {'ticker': 'GS', 'company_name': 'Goldman Sachs Group Inc'}]}, 'region': 'United States', 'filing_date': None, 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'raw_data_files': [], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 0.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:42.957489+00:00', 'end_time': '2025-07-11T12:44:49.118922+00:00', 'duration': 6.161433, 'cost_llm': 0.000852, 'tokens_sent': 112, 'tokens_generated': 314, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:49.124872+00:00', 'end_time': '2025-07-11T12:44:49.125322+00:00', 'duration': 0.00045, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:44:42.957489+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 314, 'cost_llm': 0.000852, 'model_start_time': '2025-07-11T12:44:42.957845+00:00', 'model_end_time': '2025-07-11T12:44:49.118881+00:00', 'model_duration': 6.161036}], 'pipeline_end_time': '2025-07-11T12:44:49.125322+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'us', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.'], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:45:04,274 | INFO | Event: {'Data Collection US': {'error_log': ['Processing initiated.', "Critical error in Data Collection US Node: type object 'NodeStatus' has no attribute 'PARTIAL_FAILURE'"]}}
2025-07-11 16:45:04,318 | INFO | Event: {'Validate Collected Data': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Banks - Diversified', 'stock_market_names': ['NYSE: JPM'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date_for_2024': 'February 14, 2025', 'currency': 'USD', 'current_share_price': 288.19, 'peers': [{'ticker': 'BAC', 'company_name': 'Bank of America Corp'}, {'ticker': 'WFC', 'company_name': 'Wells Fargo & Co'}, {'ticker': 'HSBC', 'company_name': 'HSBC Holdings PLC'}, {'ticker': 'C', 'company_name': 'Citigroup Inc'}, {'ticker': 'GS', 'company_name': 'Goldman Sachs Group Inc'}]}, 'region': 'United States', 'filing_date': None, 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 1.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region', 'US Data Collection', 'Validate Collected Data'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:42.957489+00:00', 'end_time': '2025-07-11T12:44:49.118922+00:00', 'duration': 6.161433, 'cost_llm': 0.000852, 'tokens_sent': 112, 'tokens_generated': 314, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:49.124872+00:00', 'end_time': '2025-07-11T12:44:49.125322+00:00', 'duration': 0.00045, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'US Data Collection', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:49.131087+00:00', 'end_time': '2025-07-11T12:45:04.271471+00:00', 'duration': 15.140384, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['collect_us_financial_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Validate Collected Data', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:45:04.274918+00:00', 'end_time': '2025-07-11T12:45:04.315845+00:00', 'duration': 0.040927, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['get_data_collection_tasks', 'validate_raw_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:44:42.957489+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 314, 'cost_llm': 0.000852, 'model_start_time': '2025-07-11T12:44:42.957845+00:00', 'model_end_time': '2025-07-11T12:44:49.118881+00:00', 'model_duration': 6.161036}], 'pipeline_end_time': '2025-07-11T12:45:04.315845+00:00', 'branch': 'us'}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.', "Critical error in Data Collection US Node: type object 'NodeStatus' has no attribute 'PARTIAL_FAILURE'"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:45:04,320 | INFO | Event: {'Synchronize Data': {'work_dir': 'report\\jpmorgan_2024_openai', 'company': 'JPMorgan Chase & Co.', 'year': '2024', 'company_details': {'official_name': 'JPMorgan Chase & Co.', 'company_name': 'JPMorgan Chase & Co.', 'segments': ['Consumer & Community Banking', 'Commercial & Investment Bank', 'Asset & Wealth Management'], 'industry': 'Banks - Diversified', 'stock_market_names': ['NYSE: JPM'], 'fmp_ticker': 'JPM', 'sec_ticker': 'JPM', 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'yfinance_ticker': 'JPM', 'region': 'United States', 'filing_date_for_2024': 'February 14, 2025', 'currency': 'USD', 'current_share_price': 288.19, 'peers': [{'ticker': 'BAC', 'company_name': 'Bank of America Corp'}, {'ticker': 'WFC', 'company_name': 'Wells Fargo & Co'}, {'ticker': 'HSBC', 'company_name': 'HSBC Holdings PLC'}, {'ticker': 'C', 'company_name': 'Citigroup Inc'}, {'ticker': 'GS', 'company_name': 'Goldman Sachs Group Inc'}]}, 'region': 'United States', 'filing_date': None, 'sec_report_address': 'https://www.sec.gov/Archives/edgar/data/19617/0000019617-25-000010-index.html', 'raw_data_files': ['report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_1a.txt', 'report\\jpmorgan_2024_openai\\filings\\sec_10k_section_7.txt', 'report\\jpmorgan_2024_openai\\raw_data\\company_profile.json', 'report\\jpmorgan_2024_openai\\summaries\\key_data.json', 'report\\jpmorgan_2024_openai\\raw_data\\competitors.json', 'report\\jpmorgan_2024_openai\\raw_data\\income_statement.json', 'report\\jpmorgan_2024_openai\\raw_data\\balance_sheet.json', 'report\\jpmorgan_2024_openai\\raw_data\\cash_flow.json', 'report\\jpmorgan_2024_openai\\summaries\\pe_eps_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\share_performance_chart.png', 'report\\jpmorgan_2024_openai\\summaries\\financial_metrics.json'], 'summary_files': [], 'preliminary_files': [], 'filing_files': [], 'messages': [], 'accuracy_score': 1.0, 'memory': {'pipeline_nodes': ['Get Company Details', 'Check Region', 'US Data Collection', 'Validate Collected Data'], 'pipeline_data': [{'current_node': 'Get Company Details', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:42.957489+00:00', 'end_time': '2025-07-11T12:44:49.118922+00:00', 'duration': 6.161433, 'cost_llm': 0.000852, 'tokens_sent': 112, 'tokens_generated': 314, 'tools_used': ['OpenAI:gpt-4o-search-preview-2025-03-11'], 'functions_used': ['process_company_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Check Region', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:49.124872+00:00', 'end_time': '2025-07-11T12:44:49.125322+00:00', 'duration': 0.00045, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': [], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'US Data Collection', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:44:49.131087+00:00', 'end_time': '2025-07-11T12:45:04.271471+00:00', 'duration': 15.140384, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['collect_us_financial_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}, {'current_node': 'Validate Collected Data', 'status': <NodeStatus.SUCCESS: 'success'>, 'start_time': '2025-07-11T12:45:04.274918+00:00', 'end_time': '2025-07-11T12:45:04.315845+00:00', 'duration': 0.040927, 'cost_llm': 0.0, 'tokens_sent': 0, 'tokens_generated': 0, 'tools_used': [], 'functions_used': ['get_data_collection_tasks', 'validate_raw_data'], 'errors': [], 'files_read': [], 'files_created': [], 'custom_metrics': {}}], 'pipeline_start_time': '2025-07-11T12:44:42.957489+00:00', 'models_used': [{'agent': 'Get Company Details', 'provider': 'OpenAI', 'model': 'gpt-4o-search-preview-2025-03-11', 'tokens_sent': 112, 'tokens_generated': 314, 'cost_llm': 0.000852, 'model_start_time': '2025-07-11T12:44:42.957845+00:00', 'model_end_time': '2025-07-11T12:44:49.118881+00:00', 'model_duration': 6.161036}], 'pipeline_end_time': '2025-07-11T12:45:04.315845+00:00', 'branch': 'us', 'normalized_data': {}}, 'audit_notes': [], 'llm_decision': 'continue', 'termination_reason': '', 'validation_result_key': 'valid', 'error_log': ['Processing initiated.', "Critical error in Data Collection US Node: type object 'NodeStatus' has no attribute 'PARTIAL_FAILURE'"], 'tokens_sent': 0, 'tokens_generated': 0, 'cost_llm': 0.0}}
2025-07-11 16:45:05,712 | ERROR | Orchestration failed: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-mini-2024-07-18`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-07-11 16:45:05,713 | INFO | {"timestamp": "2025-07-11T12:45:05.713139", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-mini-2024-07-18`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 537, in summarization_node\n    resp = executor.generate(\n        [HumanMessage(content=prompt)],\n        agent_state,\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\utils\\config_utils.py\", line 396, in generate\n    response = self.llm.invoke(messages)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 378, in invoke\n    self.generate_prompt(\n    ~~~~~~~~~~~~~~~~~~~~^\n        [self._convert_input(input)],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ).generations[0][0],\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 963, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 782, in generate\n    self._generate_with_cache(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        m,\n        ^^\n    ...<2 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 1028, in _generate_with_cache\n    result = self._generate(\n        messages, stop=stop, run_manager=run_manager, **kwargs\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 476, in _generate\n    response = self.completion_with_retry(\n        messages=message_dicts, run_manager=run_manager, **params\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 387, in completion_with_retry\n    return self.client.create(**kwargs)\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_utils\\_utils.py\", line 287, in wrapper\n    return func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\resources\\chat\\completions\\completions.py\", line 1087, in create\n    return self._post(\n           ~~~~~~~~~~^\n        \"/chat/completions\",\n        ^^^^^^^^^^^^^^^^^^^^\n    ...<43 lines>...\n        stream_cls=Stream[ChatCompletionChunk],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1249, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1037, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.PermissionDeniedError: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-mini-2024-07-18`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}\nDuring task with name 'Summarize' and id '87b9d14a-03f8-5360-3c46-14339fb950ba'\n"}}
2025-07-11 16:45:05,719 | ERROR | Orchestration failed: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-mini-2024-07-18`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-07-11 16:45:05,720 | INFO | {"timestamp": "2025-07-11T12:45:05.720242", "event_type": "orchestration_failed", "session_id": "global", "payload": {"error": "Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-mini-2024-07-18`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}", "traceback": "Traceback (most recent call last):\n  File \"D:\\dev\\RoboFinGraph-Agent\\main.py\", line 66, in main\n    run_orchestration(\n    ~~~~~~~~~~~~~~~~~^\n        company     = args.company,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        verbose     = args.verbose\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\workflows\\orchestrator.py\", line 197, in run_orchestration\n    for event in app.stream(current_graph_state): # Start stream with the initialized state\n                 ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\__init__.py\", line 2542, in stream\n    for _ in runner.tick(\n             ~~~~~~~~~~~^\n        [t for t in loop.tasks.values() if not t.writes],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        schedule_task=loop.accept_push,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\runner.py\", line 162, in tick\n    run_with_retry(\n    ~~~~~~~~~~~~~~^\n        t,\n        ^^\n    ...<10 lines>...\n        },\n        ^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\pregel\\retry.py\", line 42, in run_with_retry\n    return task.proc.invoke(task.input, config)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 623, in invoke\n    input = context.run(step.invoke, input, config, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langgraph\\utils\\runnable.py\", line 377, in invoke\n    ret = self.func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 93, in wrapper\n    result = fn(agent_state, *args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\agents\\agent_library.py\", line 537, in summarization_node\n    resp = executor.generate(\n        [HumanMessage(content=prompt)],\n        agent_state,\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\utils\\config_utils.py\", line 396, in generate\n    response = self.llm.invoke(messages)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 378, in invoke\n    self.generate_prompt(\n    ~~~~~~~~~~~~~~~~~~~~^\n        [self._convert_input(input)],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    ).generations[0][0],\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 963, in generate_prompt\n    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 782, in generate\n    self._generate_with_cache(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        m,\n        ^^\n    ...<2 lines>...\n        **kwargs,\n        ^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_core\\language_models\\chat_models.py\", line 1028, in _generate_with_cache\n    result = self._generate(\n        messages, stop=stop, run_manager=run_manager, **kwargs\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 476, in _generate\n    response = self.completion_with_retry(\n        messages=message_dicts, run_manager=run_manager, **params\n    )\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\langchain_community\\chat_models\\openai.py\", line 387, in completion_with_retry\n    return self.client.create(**kwargs)\n           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_utils\\_utils.py\", line 287, in wrapper\n    return func(*args, **kwargs)\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\resources\\chat\\completions\\completions.py\", line 1087, in create\n    return self._post(\n           ~~~~~~~~~~^\n        \"/chat/completions\",\n        ^^^^^^^^^^^^^^^^^^^^\n    ...<43 lines>...\n        stream_cls=Stream[ChatCompletionChunk],\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1249, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\dev\\RoboFinGraph-Agent\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1037, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.PermissionDeniedError: Error code: 403 - {'error': {'message': 'Project `proj_DzhKU9tGYyvIadksXbHqfg50` does not have access to model `gpt-4o-mini-2024-07-18`', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}\nDuring task with name 'Summarize' and id '87b9d14a-03f8-5360-3c46-14339fb950ba'\n"}}
